"use strict";(self["webpackChunkdeploy_vue_project"]=self["webpackChunkdeploy_vue_project"]||[]).push([[303],{1029:function(t,e,a){a.r(e),a.d(e,{default:function(){return Se}});var i=a(4414),s=a(3449),l=a(2756),o=function(){var t=this,e=t._self._c;return e(s.A,{attrs:{fluid:""}},[e(l.A,[e(i.A,{attrs:{cols:"12"}},[e("CustomDataTable",{attrs:{items:t.items,itemsLength:t.itemsLength,options:t.options,headers:t.headers,loading:t.loading,disabled_select:t.disabled_select,"fixed-header":!1,"show-expand":""},on:{emitUpdateOptions:t.emitUpdateOptions,create:t.emitCreate},scopedSlots:t._u([{key:"item",fn:function({item:a,headers:i,expand:s,isExpanded:l}){return[e("MenuTableItem",{class:{"purple lighten-5":l},attrs:{item:a,headers:i,expand:s,isExpanded:l,actions_buttons:t.actions_buttons}})]}},{key:"expanded-item",fn:function({headers:a,item:i}){return[e("td",{attrs:{colspan:a.length}},[e("MenuRecursiveTable",{attrs:{items:i["children"],headers:a,loading:t.loading,"hide-default-header":"",actions_buttons:t.actions_buttons,depth:t.depth+1}})],1)]}}])})],1)],1),e("CustomDialog",{attrs:{title:"新增菜單",color:"pink darken-2"},scopedSlots:t._u([{key:"body",fn:function(){return[e("CreateMenuForm",{on:{refresh:t.refreshData}})]},proxy:!0}]),model:{value:t.create_dialog,callback:function(e){t.create_dialog=e},expression:"create_dialog"}}),e("CustomDialog",{attrs:{title:"瀏覽菜單",color:"grey darken-2"},scopedSlots:t._u([{key:"body",fn:function(){return[e("ReadMenuForm",{attrs:{id:t.read_id}})]},proxy:!0}]),model:{value:t.read_dialog,callback:function(e){t.read_dialog=e},expression:"read_dialog"}}),e("CustomDialog",{attrs:{title:"修改菜單",color:"primary darken-2"},scopedSlots:t._u([{key:"body",fn:function(){return[e("UpdateMenuForm",{attrs:{id:t.update_id},on:{refresh:t.refreshData}})]},proxy:!0}]),model:{value:t.update_dialog,callback:function(e){t.update_dialog=e},expression:"update_dialog"}})],1)},n=[],r=a(1099);a(4603),a(7566),a(8721);const c=t=>{const{page:e,itemsPerPage:a,sortBy:i,sortDesc:s,search:l}=t,o=new URLSearchParams({page:e,page_size:a});if(l&&o.append("search",l),i.length>0){const t=i.map(((t,e)=>`${s[e]?"-":""}${t}`));o.append("ordering",t.join(","))}return o};var d=a(8465),u=a.n(d);const h=async(t="刪除警告",e="正在刪除資料")=>await u().fire({icon:"warning",title:t,text:e,showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"刪除"}),p=async()=>{const t=await u().fire({icon:"warning",title:"最後一次刪除警告",text:"您確定要刪除該筆資料嗎?",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"確定刪除"});return!!t.isConfirmed};var m=a(3740),g=a(1484),_=a(2938),f=a(4596),v=a(5030),b=a(2031),x=a(7631),y=a(8171),w=a(7198),C=a(5648),A=a(4598),k=a(5803),$=a(6988),S=a(4152);const B=(0,k.A)(b.A,x.A,y.A,w.A,C.A,v.A);var D=B.extend({name:"v-dialog",directives:{ClickOutside:A.A},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:[String,Number],noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:[String,Number]},data(){return{activatedBy:null,animate:!1,animateTimeout:-1,stackMinZIndex:200,previousActiveElement:null}},computed:{classes(){return{[`v-dialog ${this.contentClass}`.trim()]:!0,"v-dialog--active":this.isActive,"v-dialog--persistent":this.persistent,"v-dialog--fullscreen":this.fullscreen,"v-dialog--scrollable":this.scrollable,"v-dialog--animated":this.animate}},contentClasses(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null===(e=this.previousActiveElement)||void 0===e||e.focus())},fullscreen(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created(){this.$attrs.hasOwnProperty("full-width")&&(0,$.rq)("full-width",this)},beforeMount(){this.$nextTick((()=>{this.isBooted=this.isActive,this.isActive&&this.show()}))},beforeDestroy(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick(){this.animate=!1,this.$nextTick((()=>{this.animate=!0,window.clearTimeout(this.animateTimeout),this.animateTimeout=window.setTimeout((()=>this.animate=!1),150)}))},closeConditional(t){const e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):y.A.options.methods.hideScroll.call(this)},show(){!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((()=>{this.$nextTick((()=>{var t,e;(null===(t=this.$refs.dialog)||void 0===t?void 0:t.contains(document.activeElement))||(this.previousActiveElement=document.activeElement,null===(e=this.$refs.dialog)||void 0===e||e.focus()),this.bind()}))}))},bind(){window.addEventListener("focusin",this.onFocusin)},unbind(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown(t){if(t.keyCode===S.uP.esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;const t=this.getActivator();this.$nextTick((()=>t&&t.focus()))}this.$emit("keydown",t)},onFocusin(t){if(!t||!this.retainFocus)return;const e=t.target;if(e&&this.$refs.dialog&&![document,this.$refs.dialog].includes(e)&&!this.$refs.dialog.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((t=>t.contains(e)))){const t=this.$refs.dialog.querySelectorAll('button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])'),e=[...t].find((t=>!t.hasAttribute("disabled")&&!t.matches('[tabindex="-1"]')));e&&e.focus()}},genContent(){return this.showLazyContent((()=>[this.$createElement(f.A,{props:{root:!0,light:this.light,dark:this.dark}},[this.$createElement("div",{class:this.contentClasses,attrs:{role:"dialog","aria-modal":this.hideOverlay?void 0:"true",...this.getScopeIdAttrs()},on:{keydown:this.onKeydown},style:{zIndex:this.activeZIndex},ref:"content"},[this.genTransition()])])]))},genTransition(){const t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent(){const t={class:this.classes,attrs:{tabindex:this.isActive?0:void 0},ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style={...t.style,maxWidth:(0,S.Dg)(this.maxWidth),width:(0,S.Dg)(this.width)}),this.$createElement("div",t,this.getContentSlot())}},render(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},[this.genActivator(),this.genContent()])}}),O=a(6930),E=a(198),I=a(2367),P=function(){var t=this,e=t._self._c;return e(D,{attrs:{width:t.dialogWidth,persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(g.A,[e(E.A,{attrs:{dark:"",color:t.color}},[e(m.A,{attrs:{icon:"",dark:""},on:{click:t.closeDialog}},[e(O.A,[t._v("mdi-close-thick")])],1),e(I.sw,[t._v(" "+t._s(t.title)+" ")])],1),e(_.OQ,{staticClass:"py-4 black--text"},[t._t("body")],2)],1)],1)},T=[],V={props:{value:{type:Boolean,default:!1},color:{type:String,default:"primary"},title:{type:String,default:"開啟"}},data(){return{dialog:!1,originPath:null}},computed:{dialogWidth(){const{rwd_name:t}=this,e={xs:"95%",sm:"80%",md:"70%",lg:"60%",xl:"50%"};return e[t]}},watch:{value(t){this.dialog=t,t?(this.originPath=window.location.hash,history.pushState({dialogOpen:!0},"",`${this.originPath}#dialog`),window.addEventListener("popstate",this.handlePopState)):window.removeEventListener("popstate",this.handlePopState)},dialog(t){this.$emit("input",t)}},mounted(){"#dialog"===window.location.hash&&this.restoreOriginalHash()},beforeDestroy(){window.removeEventListener("popstate",this.handlePopState)},methods:{closeDialog(){this.dialog=!1,history.back()},handlePopState(t){"#dialog"===window.location.hash?this.dialog=!0:this.dialog=!1},restoreOriginalHash(){const{pathname:t,search:e}=window.location,a=t+e;history.replaceState(null,"",a)}}},L=V,F=a(1656),M=(0,F.A)(L,P,T,!1,null,"c38c7b2a",null),H=M.exports,N=a(3180),U=a(3064),j=a(6237),q=a(4312),R=(a(158),(0,S.Gn)("spacer","div","v-spacer")),z=a(7112),Z=a(7270),G=function(){var t=this,e=t._self._c;return e(l.A,[t.hideFilterColumn?t._e():e(i.A,{staticClass:"d-flex flex-wrap gap-4 align-end",attrs:{cols:"12"}},[e(z.A,{ref:"table-search",staticStyle:{"max-width":"250px"},attrs:{"prepend-inner-icon":"mdi-magnify",label:"搜尋...","single-line":"",outlined:"","background-color":"white","hide-details":"",clearable:"","clear-icon":"mdi-close-circle"},on:{change:t.goSearch,"click:clear":t.clearSearch},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.hideCreate?t._e():e(m.A,{staticClass:"d-flex align-center rounded-lg",attrs:{"x-small":"xs"===t.rwd_name,small:"xs"!==t.rwd_name,height:"50",color:"pink darken-2",disabled:t.loading},on:{click:t.create}},[e(O.A,{attrs:{color:"white",left:"",size:"20"}},[t._v("mdi-plus-circle")]),e("span",{staticClass:"font-weight-black text-subtitle-1 white--text"},[t._v(" "+t._s(t.createButtonText)+" ")])],1),e(j.A,{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:i}){return[e(m.A,t._g(t._b({staticClass:"d-flex align-center rounded-lg",attrs:{"x-small":"xs"===t.rwd_name,small:"xs"!==t.rwd_name,height:"50",color:t.show_header_menu?"grey darken-3":"blue-grey lighten-3"}},"v-btn",i,!1),a),[e(O.A,{attrs:{left:"",size:"20",color:t.show_header_menu?"white":"black"}},[t._v("mdi-eye")]),e("span",{staticClass:"font-weight-black text-subtitle-1",class:t.show_header_menu?"white--text":"black--text"},[t._v("欄位顯示")])],1)]}}],null,!1,3063821512),model:{value:t.show_header_menu,callback:function(e){t.show_header_menu=e},expression:"show_header_menu"}},[e(g.A,[e("CustomMenuSelectList",{attrs:{selected:t.selectedHeaders,items:t.headers,disabled_select:t.disabled_select,"item-title":"欲顯示及匯出的欄位","item-text":"text","item-value":"value",icon:"mdi-view-column-outline","icon-color":"grey lighten-3"},on:{change:t.changeSelect,toggle:t.changeSelect}})],1)],1),t.hideExport?t._e():e(m.A,{staticClass:"d-flex align-center rounded-lg",attrs:{"x-small":"xs"===t.rwd_name,small:"xs"!==t.rwd_name,height:"50",color:"indigo darken-2",disabled:t.loading},on:{click:function(e){return t.exportExcel("all")}}},[e(O.A,{attrs:{color:"white",left:"",size:"20"}},[t._v("mdi-file-export")]),e("span",{staticClass:"font-weight-black text-subtitle-1 white--text"},[t._v("匯出報表")])],1),e(R),t.hideSortBox?t._e():e("CustomSortDisplay",{attrs:{sortBy:t.options["sortBy"][0],sortDesc:t.options["sortDesc"][0],headers:t.headers},on:{clearSortable:t.clearSortable}})],1),e(i.A,{attrs:{cols:"12"}},[e(U.A,{staticClass:"data-table elevation-2",attrs:{headers:t.selectedHeaders,items:t.items,"item-key":"id","item-class":t.itemRowBackground,"server-items-length":t.itemsLength,loading:t.loading,"loading-text":"載入資料中",options:t.emitOptions,footerProps:t.footerProps,"hide-default-footer":"","hide-default-header":t.hideDefaultHeader,"mobile-breakpoint":0,"fixed-header":"",height:t.table_height,"show-group-by":t.showGroupBy,search:t.search,"no-data-text":"無任何資料","no-results-text":"查詢不到你所蒐尋的內容","show-select":t.showSelect,"single-expand":"","show-expand":t.showExpand,expanded:t.expanded},on:{"update:options":[function(e){t.emitOptions=e},t.emitUpdateOptions],"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"group.header",fn:function({group:a,isOpen:i,toggle:s,items:l}){return[e("td",{ref:`group-expand-${i}-${a}`,staticClass:"grey lighten-2 pointer",attrs:{colspan:t.headers.length},on:{click:s}},[e("div",{staticClass:"group-sticky-column d-flex align-end gap-2"},[e(m.A,{attrs:{fab:"",color:i?"":"grey darken-1","x-small":""}},[e(O.A,{attrs:{color:i?"grey darken-4":"amber darken-2",small:""}},[t._v(" "+t._s(i?"mdi-minus":"mdi-plus")+" ")])],1),e("span",{staticClass:"font-weight-black text-subtitle-2 text-md-subtitle-1"},[t._v(" 群組名稱: "+t._s(a)+" ")]),e(N.A,{staticClass:"white--text font-weight-bold",attrs:{label:"",color:"success darken-1",small:""}},[t._v(" 數量: "+t._s(l.length)+" ")])],1)])]}},t._l(t.$scopedSlots,(function(e,a){return{key:a,fn:function(e){return[t._t(a,null,null,e)]}}})),t._l(t.$slots,(function(e,a){return{key:a,fn:function(){return[t._t(a)]},proxy:!0}})),{key:"item.actions",fn:function({item:a}){return[e("td",{staticClass:"py-4",on:{click:function(t){t.stopPropagation()}}},[t._l(t.actions_buttons,(function(i){return[i["hide"]?t._e():e(Z.A,{key:i["title"],attrs:{bottom:"",color:i["tooltip_color"]},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:l}){return[e(m.A,t._g(t._b({staticClass:"mx-1",attrs:{fab:"","x-small":"",color:i["btn_color"]},on:{click:function(t){return i.onClick(a["id"])}}},"v-btn",l,!1),s),[e(O.A,{attrs:{small:"",color:i["icon_color"]}},[t._v(" "+t._s(i["icon"])+" ")])],1)]}}],null,!0)},[e("span",{staticClass:"black--text font-weight-bold"},[t._v(" "+t._s(i["title"])+" ")])])]}))],2)]}},{key:"item.data-table-expand",fn:function({item:a,expand:i,isExpanded:s}){return[a["children"]&&a["children"].length>0?e(m.A,{attrs:{icon:""},on:{click:function(t){return i(!s)}}},[e(O.A,[t._v(" "+t._s(s?"mdi-chevron-up":"mdi-chevron-down")+" ")])],1):t._e()]}},{key:"footer",fn:function({props:{options:{page:a},pagination:{pageStart:i,pageStop:l,pageCount:o},itemsPerPageText:n}}){return[e(s.A,{staticClass:"white d-flex flex-wrap justify-space-between align-center gap-8 py-4",attrs:{fluid:""}},[e("div",{staticClass:"d-flex align-center gap-2"},[e(O.A,{attrs:{color:"primary"}},[t._v(" mdi-information ")]),e("span",{staticClass:"font-weight-bold text-subtitle-1 text-sm-h6"},[t._v("查詢資料筆數: "+t._s(t.itemsLength))])],1),e("div",{staticClass:"d-flex flex-wrap gap-8"},[e("div",{staticClass:"d-flex flex-wrap gap-8 align-end"},[e("div",{staticClass:"d-flex gap-2 flex-column flex-sm-row align-start align-sm-center"},[e("h6",{staticClass:"font-weight-black text-subtitle-2"},[t._v(" "+t._s(n)+" ")]),e(q.A,{staticStyle:{"max-width":"120px"},attrs:{items:t.footerProps["itemsPerPageOptions"],"item-text":"text","item-value":"value",outlined:"",label:"顯示數","background-color":"grey lighten-4",dense:"","hide-details":""},on:{change:t.updateItemsPerPage},model:{value:t.emitOptions["itemsPerPage"],callback:function(e){t.$set(t.emitOptions,"itemsPerPage",e)},expression:"emitOptions['itemsPerPage']"}})],1),e(N.A,{staticClass:"white--text text-subtitle-2 text-sm-subtitle-1 py-4",attrs:{color:"grey darken-2",label:"",small:""}},[t._v(" "+t._s(i+1)+" ~ "+t._s(l)+"  (共"+t._s(t.itemsLength)+"筆) ")])],1),e("div",{staticClass:"d-flex align-center gap-2"},[e(m.A,{staticClass:"text-subtitle-2 primary--text",attrs:{"x-small":"",height:"34",disabled:t.loading||1===a||0===o,color:"grey lighten-4"},on:{click:function(e){return t.updatePage(1)}}},[e(O.A,{attrs:{small:t.is_mobile}},[t._v("mdi-skip-previous")])],1),e(m.A,{staticClass:"text-subtitle-2 primary--text",attrs:{"x-small":"",height:"34",disabled:t.loading||1===a||0===o,color:"grey lighten-4"},on:{click:function(e){return t.updatePage(t.emitOptions["page"]-1)}}},[e(O.A,{attrs:{small:t.is_mobile}},[t._v("mdi-chevron-left")])],1),e("span",{staticClass:"text-subtitle-1 text-sm-h6"},[t._v(" 第 "+t._s(a)+" / "+t._s(o)+" 頁 ")]),e(m.A,{staticClass:"text-subtitle-2 primary--text",attrs:{"x-small":"",height:"34",disabled:t.loading||a===o||0===o,color:"grey lighten-4"},on:{click:function(e){return t.updatePage(t.emitOptions["page"]+1)}}},[e(O.A,{attrs:{small:t.is_mobile}},[t._v("mdi-chevron-right")])],1),e(m.A,{staticClass:"text-subtitle-2 primary--text",attrs:{"x-small":"",height:"34",disabled:t.loading||a===o||0===o,color:"grey lighten-4"},on:{click:function(e){return t.updatePage(o)}}},[e(O.A,{attrs:{small:t.is_mobile}},[t._v("mdi-skip-next")])],1)],1)])])]}}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),e("CustomTableSelectExpand",{attrs:{table_selected:t.selected},on:{delete:t.deleteSelect,"delete-all":function(e){t.selected=[]},export:function(e){return t.exportExcel("select")}},scopedSlots:t._u([{key:"expand",fn:function(e){return[t._t("expand",null,null,e)]}}],null,!0)})],1)},W=[],J=a(8983),K=a(7296),Q=a(3138),X=a(1376),Y=function(){var t=this,e=t._self._c;return e(J.A,{attrs:{"min-width":"280",color:"amber lighten-5"}},[t.sortBy?e(K.A,[e(Q.A,{attrs:{color:t.sortDesc?"error":"primary"}},[e(O.A,{attrs:{dark:""}},[t._v(" "+t._s(t.sortDesc?"mdi-sort-alphabetical-descending":"mdi-sort-alphabetical-ascending")+" ")])],1),e(X.pr,[e(X.UZ,{staticClass:"font-weight-black"},[t._v(" "+t._s(t.map_header_name[t.sortBy])+" ")]),e(X.w,[t._v(t._s(t.sortDesc?"由大到小":"由小到大"))])],1),e(R),e(Z.A,{attrs:{top:"",color:"indigo"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:i}){return[e(m.A,t._g(t._b({attrs:{icon:""},on:{click:t.clearSortable}},"v-btn",i,!1),a),[e(O.A,[t._v("mdi-close-circle")])],1)]}}],null,!1,3754058528)},[e("span",[t._v("清除排序")])])],1):e(K.A,[e(Q.A,{attrs:{color:"grey"}},[e(O.A,{attrs:{dark:""}},[t._v("mdi-format-text-rotation-none")])],1),e(X.pr,[e(X.UZ,{staticClass:"font-weight-black"},[t._v(" 無排序操作 ")]),e(X.w,[t._v("點擊表頭欄位操作")])],1)],1)],1)},tt=[],et={name:"CustomSortDisplay",props:{sortBy:{type:String,default:null},sortDesc:{type:Boolean,default:!1},headers:{type:Array,default:()=>[]}},data(){return{}},computed:{map_header_name(){return this.headers.reduce(((t,e)=>(t[e["value"]]=e["text"],t)),{})}},methods:{clearSortable(){this.$emit("clearSortable")}}},at=et,it=(0,F.A)(at,Y,tt,!1,null,null,null),st=it.exports,lt=a(569),ot=a(6993),nt=(a(4114),a(4746)),rt=a(5471),ct=rt.Ay.extend({name:"rippleable",directives:{ripple:nt.A},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(t={}){return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}}),dt=a(8968);function ut(t){t.preventDefault()}var ht=(0,k.A)(ot.A,ct,dt.A).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const t=this.value,e=this.internalValue;return this.isMultiple?!!Array.isArray(e)&&e.some((e=>this.valueComparator(e,t))):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,e):Boolean(e):this.valueComparator(e,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel(){const t=ot.A.options.methods.genLabel.call(this);return t?(t.data.on={click:ut},t):t},genInput(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:ut},ref:"input"})},onClick(t){this.onChange(),this.$emit("click",t)},onChange(){if(!this.isInteractive)return;const t=this.value;let e=this.internalValue;if(this.isMultiple){Array.isArray(e)||(e=[]);const a=e.length;e=e.filter((e=>!this.valueComparator(e,t))),e.length===a&&e.push(t)}else e=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(e,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(e,t)?null:t:!e;this.validate(!0,e),this.internalValue=e,this.hasColor=e},onFocus(t){this.isFocused=!0,this.$emit("focus",t)},onBlur(t){this.isFocused=!1,this.$emit("blur",t)},onKeydown(t){}}}),pt=ht.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...ot.A.options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(t){this.$nextTick((()=>this.inputIndeterminate=t))},inputIndeterminate(t){this.$emit("update:indeterminate",t)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){const{title:t,...e}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(lt.A,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",{...e,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}}),mt=a(9483),gt=a(2659),_t=a(329),ft=function(){var t=this,e=t._self._c;return e(J.A,[e(K.A,{attrs:{disabled:""}},[e(Q.A,{attrs:{color:"grey lighten-3"}},[e(O.A,[t._v(t._s(t.icon))])],1),e(X.pr,[e(X.UZ,{staticClass:"font-weight-black text-subtitle-2"},[t._v(" "+t._s(t.itemTitle)+" ")]),e(X.w,{staticClass:"d-flex flex-wrap",staticStyle:{gap:"0.5rem"}},[e(N.A,{attrs:{rounded:"",small:"",color:"success"}},[t._v("已選: "+t._s(t.selectedList.length))]),e(N.A,{staticClass:"white--text",attrs:{rounded:"",small:"",color:"deep-orange darken-1"}},[t._v("總共: "+t._s(t.items.length))])],1)],1)],1),e(mt.A,{staticClass:"mt-2"}),t.allowToggle?e(K.A,{attrs:{ripple:""},on:{mousedown:function(t){t.preventDefault()},click:t.toggle}},[e(gt.A,[e(O.A,{attrs:{color:t.items.length>0?"indigo darken-4":""}},[t._v(" "+t._s(t.select_All_Icon)+" ")])],1),e(X.pr,[e(X.UZ,[t._v(" 全選 ")])],1)],1):t._e(),e(_t.A,{staticClass:"list-group-container",attrs:{multiple:"","active-class":"primary--text"},model:{value:t.selectedList,callback:function(e){t.selectedList=e},expression:"selectedList"}},[t._l(t.items,(function(a){return[e(K.A,{key:a[t.itemValue],attrs:{disabled:t.itemDisabled(a[t.itemValue]),value:a[t.itemValue]},on:{click:function(e){return t.change(a)}},scopedSlots:t._u([{key:"default",fn:function({active:i}){return[e(gt.A,[e(pt,{attrs:{"input-value":i,color:t.getCheckboxColor(a[t.itemText])}})],1),e(X.pr,[e(X.UZ,[t._v(" "+t._s(a[t.itemText])+" "),t.itemDisabled(a[t.itemValue])?e("small",{staticClass:"red--text font-weight-black"},[t._v(" (*必選) ")]):t._e()])],1),"排程"===t.type?e(gt.A,[e(N.A,{staticClass:"white--text font-weight-black",attrs:{color:t.get_type_schedule(a)["color"]}},[t._v(" "+t._s(t.get_type_schedule(a)["text"])+" ")])],1):t._e()]}}],null,!0)})]}))],2)],1)},vt=[],bt={name:"CustomMenuSelectList",props:{selected:{type:Array,default:()=>[]},items:{type:Array,default:()=>[]},disabled_select:{type:Array,default:()=>[]},itemTitle:{type:String,default:""},itemValue:{type:String,default:"value"},itemText:{type:String,default:"text"},icon:{type:String,default:"mdi-calendar-month"},iconColor:{type:String,default:"grey--text"},allowToggle:{type:Boolean,default:!0},type:{type:String,default:""}},data(){return{selectedList:[]}},watch:{selected:{deep:!0,handler(t){this.selectedList=t.map((t=>t[this.itemValue]))}}},mounted(){this.selectedList=this.selected.map((t=>t[this.itemValue]))},computed:{selectedDisabledList(){const{disabled_select:t,selected:e,itemDisabled:a,itemValue:i}=this;return 0===!t.length?[]:e.filter((t=>a(t[i])))},select_All_Items(){return this.selectedList.length===this.items.length},select_Some_Items(){return this.selectedList.length>0&&!this.select_All_Items},select_All_Icon(){return this.select_All_Items?"mdi-close-box":this.select_Some_Items?"mdi-minus-box":"mdi-checkbox-blank-outline"}},methods:{itemDisabled(t){const{disabled_select:e}=this;return e.includes(t)},change(t){const{itemValue:e}=this;this.selectedList.find((a=>a===t[e]))?this.selectedList=this.selectedList.filter((a=>a!==t[e])):this.selectedList.push(t[e]);const a=this.items.filter((t=>this.selectedList.includes(t[e])));this.$emit("change",a)},toggle(){this.$nextTick((()=>{const t=this.select_All_Items?this.selectedDisabledList:this.items;this.selectedList=t.map((t=>t[this.itemValue])),this.$emit("toggle",t)}))},getCheckboxColor(t){return this.itemDisabled(t[this.itemValue])?"grey lighten-1":"primary"},get_type_schedule(t){const{is_new_pool:e,status:a}=t;return e?{color:"error",text:"新池"}:a>=1?{color:"primary",text:"運作"}:{color:"grey",text:"空池"}}}},xt=bt,yt=(0,F.A)(xt,ft,vt,!1,null,"143c07f9",null),wt=yt.exports,Ct=a(9375),At=a(4728),kt=a(428),$t=a(3381),St=rt.Ay.extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),Bt=(0,k.A)(Ct.A,kt.A,St).extend({name:"v-alert",props:{border:{type:String,validator(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder(){if(!this.border)return null;let t={staticClass:"v-alert__border",class:{[`v-alert__border--${this.border}`]:!0}};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible(){if(!this.dismissible)return null;const t=this.iconColor;return this.$createElement(At.A,{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:()=>this.isActive=!1}},[this.$createElement(lt.A,{props:{color:t}},this.closeIcon)])},__cachedIcon(){return this.computedIcon?this.$createElement(lt.A,{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes(){const t={...Ct.A.options.computed.classes.call(this),"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text};return this.border&&(t[`v-alert--border-${this.border}`]=!0),t},computedColor(){return this.color||this.type},computedIcon(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&`$${this.type}`)},hasColoredIcon(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText(){return this.text||this.outlined},iconColor(){return this.hasColoredIcon?this.computedColor:void 0},isDark(){return!(!this.type||this.coloredBorder||this.outlined)||$t.A.options.computed.isDark.call(this)}},created(){this.$attrs.hasOwnProperty("outline")&&(0,$.q4)("outline","outlined",this)},methods:{genWrapper(){const t=[(0,S.$c)(this,"prepend")||this.__cachedIcon,this.genContent(),this.__cachedBorder,(0,S.$c)(this,"append"),this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent(){return this.$createElement("div",{staticClass:"v-alert__content"},(0,S.$c)(this))},genAlert(){let t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){const e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle(){this.isActive=!this.isActive}},render(t){const e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}}),Dt=a(5961),Ot=function(){var t=this,e=t._self._c;return e(Dt.Qo,{staticClass:"elevation-10"},[e(g.A,{directives:[{name:"show",rawName:"v-show",value:t.table_selected.length>0,expression:"table_selected.length > 0"}],staticClass:"bottom-sheet elevation-10 py-0"},[e(_.ri,{staticClass:"font-weight-black text-subtitle-1 py-2"},[e("div",{staticClass:"d-flex align-center"},[e("span",[t._v("匯出選擇")]),e(N.A,{staticClass:"ml-2 text-caption text-sm-subtitle-2 font-weight-bold",attrs:{color:"indigo darken-1",small:t.is_mobile,label:"",outlined:""}},[t._v(" 數量: "+t._s(t.table_selected.length)+" ")])],1),e(R),e("div",{staticClass:"d-flex gap-2 align-center flex-wrap"},[e(Z.A,{attrs:{top:"",color:"error darken-3"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:i}){return[e(m.A,t._g(t._b({attrs:{color:"error darken-1",small:""},on:{click:t.deleteAllSelect}},"v-btn",i,!1),a),[e(O.A,{staticClass:"mr-1",attrs:{small:"",color:"white"}},[t._v("mdi-delete")]),e("span",{staticClass:"white--text font-weight-black"},[t._v("清空")])],1)]}}])},[e("span",[t._v("清空所有已選選項")])]),e(Z.A,{attrs:{top:"",color:"indigo darken-3"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:i}){return[e(m.A,t._g(t._b({attrs:{color:"indigo",small:""},on:{click:t.exportBtnSet}},"v-btn",i,!1),a),[e(O.A,{staticClass:"mr-1",attrs:{small:"",color:"white"}},[t._v("mdi-download")]),e("span",{staticClass:"white--text font-weight-black"},[t._v("匯出")])],1)]}}])},[e("span",[t._v("匯出已選擇"+t._s(t.table_selected.length)+"個項目")])]),e(Z.A,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:i}){return[e(m.A,t._g(t._b({staticClass:"expand-btn",attrs:{icon:""},on:{click:function(e){t.is_expand_bottom=!t.is_expand_bottom}}},"v-btn",i,!1),a),[e(O.A,[t._v(t._s(t.get_expand_icon()))])],1)]}}])},[e("span",[t._v(t._s(t.is_expand_bottom?"隱藏選項列表":"顯示選項列表"))])])],1)],1),e(mt.A),e(_.OQ,{staticClass:"d-flex black--text py-0"},[e(Dt.Qo,[e("div",{directives:[{name:"show",rawName:"v-show",value:t.is_expand_bottom,expression:"is_expand_bottom"}],staticClass:"pa-2 bottom-expand-box"},t._l(t.table_selected,(function(a){return e(Bt,{key:a["id"],staticClass:"mb-0 px-2",attrs:{color:"indigo lighten-5",elevation:"2",width:"100%"}},[e(l.A,{staticClass:"px-3",attrs:{align:"center"}},[e(i.A,{staticClass:"grow"},[t._t("expand",null,{item:a})],2),e(i.A,{staticClass:"shrink"},[e(Z.A,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:s}){return[e(m.A,t._g(t._b({attrs:{icon:""},on:{click:function(e){return t.deleteSelect(a)}}},"v-btn",s,!1),i),[e(O.A,[t._v("mdi-close-circle")])],1)]}}],null,!0)},[e("span",[t._v("清除該選項")])])],1)],1)],1)})),1)])],1)],1)],1)},Et=[],It={name:"CustomTableSelectExpand",props:{table_selected:{type:Array,default:()=>[]}},data(){return{is_expand_bottom:!0}},computed:{},methods:{get_expand_icon(){const{is_expand_bottom:t}=this;return t?"mdi-arrow-down-drop-circle":"mdi-arrow-up-drop-circle"},exportBtnSet(){this.$emit("export")},deleteSelect(t){this.$emit("delete",t)},deleteAllSelect(){this.$emit("delete-all")}}},Pt=It,Tt=(0,F.A)(Pt,Ot,Et,!1,null,"43176722",null),Vt=Tt.exports;const Lt={name:"CustomDataTable",components:{CustomSortDisplay:st,CustomMenuSelectList:wt,CustomTableSelectExpand:Vt},props:{fixHeader:{type:Boolean,default:!1},height:{type:Number,default:void 0},items:{type:Array,default:()=>[]},itemsLength:{type:Number,default:0},headers:{type:Array,default:()=>[]},options:{type:Object,default:()=>{}},loading:{type:Boolean,default:!0},loading_text:{type:String,default:"載入資料中"},disabled_select:{type:Array,default:()=>[]},showGroupBy:{type:Boolean,default:!1},showSelect:{type:Boolean,default:!1},showExpand:{type:Boolean,default:!1},hideFilterColumn:{type:Boolean,default:!1},hideSortBox:{type:Boolean,default:!1},hideExport:{type:Boolean,default:!1},hideCreate:{type:Boolean,default:!1},hideDefaultHeader:{type:Boolean,default:!1},createButtonText:{type:String,default:"新增資料"},actions:{type:Array,default:()=>["read","update","delete"]}},inject:{tableHeaderBackgroundColor:{type:String,default:"#ebc89f"},tableHeaderTextColor:{type:String,default:"black"}},data(){return{footerProps:{itemsPerPageOptions:[{text:"全部",value:-1},{text:"10筆",value:10},{text:"30筆",value:30},{text:"50筆",value:50},{text:"100筆",value:100},{text:"200筆",value:200}],"items-per-page-text":"單頁筆數：","items-per-page-all-text":"全部","show-current-page":!0,"show-first-last-page":!0,"first-icon":"mdi-skip-previous-circle","last-icon":"mdi-skip-next-circle","prev-icon":"mdi-arrow-left-drop-circle","next-icon":"mdi-arrow-right-drop-circle"},show_header_menu:!1,selectedHeaders:[],search:"",selected:[],expanded:[],emitOptions:{}}},computed:{table_height(){const{height:t,rwd_name:e}=this,a={xs:"400",sm:"500",md:"600",lg:"700",xl:"800"};return t||a[e]},actions_buttons(){return[{title:"瀏覽",icon:"mdi-eye",icon_color:"grey darken-1",tooltip_color:"grey lighten-2",btn_color:"blue-grey lighten-4",onClick:this.read,hide:!this.actions.includes("read")},{title:"修改",icon:"mdi-pencil",icon_color:"primary darken-1",tooltip_color:"blue lighten-4",btn_color:"primary lighten-4",onClick:this.update,hide:!this.actions.includes("update")},{title:"刪除",icon:"mdi-delete",icon_color:"error darken-1",tooltip_color:"error lighten-4",btn_color:"error lighten-4",onClick:this.delete,hide:!this.actions.includes("delete")}]}},watch:{headers:{deep:!0,handler(t){this.selectedHeaders=JSON.parse(JSON.stringify(t))}}},mounted(){this.selectedHeaders=JSON.parse(JSON.stringify(this.headers)),this.emitOptions=JSON.parse(JSON.stringify(this.options))},methods:{changeSelect(t){this.selectedHeaders=t},emitUpdateOptions(){this.loading||this.$emit("emitUpdateOptions",this.emitOptions)},updatePage(t){this.emitOptions["page"]=t,this.$emit("emitUpdateOptions",this.emitOptions)},updateItemsPerPage(t){this.emitOptions["page"]=1,this.$emit("emitUpdateOptions",this.emitOptions)},clearSortable(){this.emitOptions["sortBy"]=[],this.emitOptions["sortDesc"]=[],this.$emit("emitUpdateOptions",this.emitOptions)},goSearch(t){this.cancelFocus(),this.emitOptions["page"]=1,this.emitOptions["search"]=t,this.$emit("emitUpdateOptions",this.emitOptions)},clearSearch(){this.cancelFocus(),this.emitOptions["search"]=null},cancelFocus(){const t=this.$refs["table-search"];t.blur()},exportExcel(t="all"){const{selectedHeaders:e,selected:a}=this,i="select"===t?a.map((t=>t["id"])):[],s={headers:e,select:i};this.$emit("export",s)},create(){this.$emit("create")},read(t){this.$emit("read",t)},update(t){this.$emit("update",t)},delete(t){this.$emit("delete",t)},itemRowBackground(t){const e=this.selected.findIndex((e=>e["id"]===t["id"]));return-1!==e?"amber lighten-3 select-row":""},deleteSelect(t){this.selected=this.selected.filter((e=>e["id"]!==t["id"]))},toggleExpand(t){t.isExpanded=!t.isExpanded}}},Ft=()=>{(0,rt.$9)(((t,e)=>({ffe0c8b8:t.tableHeaderBackgroundColor,"24865a45":t.tableHeaderTextColor})))},Mt=Lt.setup;Lt.setup=Mt?(t,e)=>(Ft(),Mt(t,e)):Ft;var Ht=Lt,Nt=Ht,Ut=(0,F.A)(Nt,G,W,!1,null,"ffa66038",null),jt=Ut.exports,qt=a(4112),Rt=function(){var t=this,e=t._self._c;return e("tr",{class:{"expanded-row":t.item["parent"]&&!t.isExpanded}},[t._l(t.headers,(function(a){return["data-table-expand"===a["value"]?e("td",{key:a["value"],staticClass:"data-table-expand-column"},[e(m.A,{attrs:{icon:"",disabled:!t.checkHasChildren(t.item),color:t.isExpanded?"purple":t.checkHasChildren(t.item)?"primary":""},on:{click:function(e){return t.expand(!t.isExpanded)}}},[e(O.A,[t._v(t._s(t.isExpanded?"mdi-arrow-up-drop-circle":"mdi-arrow-down-drop-circle"))])],1)],1):"title"===a["value"]?e("td",{key:a["value"],staticClass:"title-column",class:`column-depth-${t.depth}-padding`},[t._v(" "+t._s(t.item["title"])+" ")]):"actions"===a["value"]?e("td",{key:a["value"],staticClass:"py-4 actions-column"},[e("div",{staticClass:"d-flex"},[t._l(t.actions_buttons,(function(a){return[e(Z.A,{key:a["title"],attrs:{bottom:"",color:a["tooltip_color"]},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:s}){return[e(m.A,t._g(t._b({staticClass:"mx-1",attrs:{fab:"","x-small":"",color:a["btn_color"]},on:{click:function(e){return a.onClick(t.item["id"])}}},"v-btn",s,!1),i),[e(O.A,{attrs:{small:"",color:a["icon_color"]}},[t._v(t._s(a["icon"]))])],1)]}}],null,!0)},[e("span",{staticClass:"black--text font-weight-bold"},[t._v(t._s(a["title"]))])])]}))],2)]):"icon"===a["value"]?e("td",{key:a["value"],staticClass:"icon-column"},[e(O.A,[t._v(t._s(t.item["icon"]))])],1):"priority"===a["value"]?e("td",{key:a["value"],staticClass:"priority-column"},[e(qt.A,{staticClass:"font-weight-bold white--text",attrs:{size:"24",color:t.depth_priority_color[t.depth]}},[t._v(t._s(t.item["priority"]))])],1):"path"===a["value"]?e("td",{key:a["value"],staticClass:"path-column"},[t._v(" "+t._s(t.item[a.value])+" ")]):"component"===a["value"]?e("td",{key:a["value"],staticClass:"component-column"},[t._v(" "+t._s(t.item[a.value])+" ")]):"name"===a["value"]?e("td",{key:a["value"],staticClass:"name-column"},[t._v(" "+t._s(t.item[a.value])+" ")]):"redirect"===a["value"]?e("td",{key:a["value"],staticClass:"redirect-column"},[t._v(" "+t._s(t.item[a.value])+" ")]):"is_menu"===a["value"]?e("td",{key:a["value"],staticClass:"is_menu-column"},[e(N.A,{staticClass:"font-weight-bold elevation-2",attrs:{label:"",small:"",color:t.get_is_menu_style(t.item[a.value],"color")}},[t._v(" "+t._s(t.get_is_menu_style(t.item[a.value],"text"))+" ")])],1):"is_disabled"===a["value"]?e("td",{key:a["value"],staticClass:"is_disabled-column"},[e(N.A,{staticClass:"black--text font-weight-bold elevation-2",attrs:{label:"",small:"",color:t.get_is_disabled_style(t.item[a.value],"color")}},[e(O.A,{attrs:{color:t.get_is_disabled_style(t.item[a.value],"icon_color"),"x-small":"",left:""}},[t._v(" mdi-circle ")]),t._v(" "+t._s(t.get_is_disabled_style(t.item[a.value],"text"))+" ")],1)],1):e("td",{key:`${a["value"]}-1`,staticClass:"other-column"},[t._v(" "+t._s(t.item[a.value])+" ")])]}))],2)},zt=[],Zt={name:"MenuTableItem",props:{item:{type:Object,default:()=>{}},headers:{type:Array,default:()=>[]},expand:{type:Function,default:void 0},isExpanded:{type:Boolean,default:!1},depth:{type:Number,default:1},actions_buttons:{type:Array,required:()=>[]}},data(){return{depth_priority_color:{1:"#342974",2:"#4D2A79",3:"#682A7E",4:"#822B7F",5:"#872B68"}}},methods:{checkHasChildren(t){return t["children"]&&t["children"].length>0},get_is_menu_style(t,e="color"){const a={true:{text:"是",color:"primary"},false:{text:"否",color:"error"}};return a[t][e]},get_is_disabled_style(t,e="color"){const a={true:{text:"停用",color:"error lighten-4",icon_color:"error darken-1"},false:{text:"啟動",color:"success lighten-4",icon_color:"success darken-1"}};return a[t][e]}}},Gt=Zt,Wt=(0,F.A)(Gt,Rt,zt,!1,null,"c588e7f0",null),Jt=Wt.exports,Kt=function(){var t=this,e=t._self._c;return e(U.A,{staticClass:"data-table",attrs:{loading:t.loading,headers:t.headers,items:t.items,expanded:t.expanded,"item-key":"id","single-expand":"","show-expand":"","hide-default-header":t.hideDefaultHeader,"hide-default-footer":""},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"item",fn:function({item:a,headers:i,expand:s,isExpanded:l}){return[e("MenuTableItem",{class:{"purple lighten-5":l},attrs:{item:a,headers:i,expand:s,isExpanded:l,depth:t.depth,actions_buttons:t.actions_buttons}})]}},{key:"expanded-item",fn:function({headers:a,item:i}){return[e("td",{attrs:{colspan:a.length}},[e("MenuRecursiveTable",{attrs:{items:i["children"],headers:a,loading:t.loading,"hide-default-header":"",actions_buttons:t.actions_buttons,depth:t.depth+1}})],1)]}}])})},Qt=[],Xt={name:"MenuRecursiveTable",props:{loading:{type:Boolean,default:!0},items:{type:Array,default:()=>[]},headers:{type:Array,default:()=>[]},hideDefaultHeader:{type:Boolean,default:!1},depth:{type:Number,default:1},actions_buttons:{type:Array,required:()=>[]}},components:{MenuTableItem:Jt},data(){return{expanded:[]}}},Yt=Xt,te=(0,F.A)(Yt,Kt,Qt,!1,null,"d7c0c1ea",null),ee=te.exports,ae=a(2699),ie=a(1554),se=ht.extend({name:"v-switch",directives:{Touch:ae.A},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes(){return{...ot.A.options.computed.classes.call(this),"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset}},attrs(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot(){return[this.genSwitch(),this.genLabel()]},genSwitch(){const{title:t,...e}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",{...this.attrs,...e}),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",{staticClass:"v-input--switch__track",...this.switchData}),this.$createElement("div",{staticClass:"v-input--switch__thumb",...this.switchData},[this.genProgress()])])},genProgress(){return this.$createElement(Dt.Z,{},[!1===this.loading?null:(0,S.$c)(this,"progress")||this.$createElement(ie.A,{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft(){this.isActive&&this.onChange()},onSwipeRight(){this.isActive||this.onChange()},onKeydown(t){(t.keyCode===S.uP.left&&this.isActive||t.keyCode===S.uP.right&&!this.isActive)&&this.onChange()}}}),le=function(){var t=this,e=t._self._c;return e(l.A,{staticClass:"justify-start"},[e(i.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[e("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[t._v(" 菜單標題: ")]),e(z.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫標題",readonly:"",placeholder:"填寫範例: 菜單標題"},model:{value:t.read_data["title"],callback:function(e){t.$set(t.read_data,"title",e)},expression:"read_data['title']"}})],1),e(i.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[e("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[t._v(" 菜單路徑: ")]),e(z.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫路徑",readonly:"",placeholder:"填寫範例: /path"},model:{value:t.read_data["path"],callback:function(e){t.$set(t.read_data,"path",e)},expression:"read_data['path']"}})],1),e(i.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[e("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[t._v(" 組件名稱: ")]),e(z.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫組件名稱",readonly:"",placeholder:"填寫範例: PathName"},model:{value:t.read_data["name"],callback:function(e){t.$set(t.read_data,"name",e)},expression:"read_data['name']"}})],1),e(i.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[e("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[t._v(" 組件路徑: ")]),e(z.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫組件路徑",readonly:"",placeholder:"填寫範例: Path/PathName"},model:{value:t.read_data["component"],callback:function(e){t.$set(t.read_data,"component",e)},expression:"read_data['component']"}})],1),e(i.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[e("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[t._v(" 菜單圖案: ")]),e(z.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫菜單圖案路徑",readonly:"",placeholder:"填寫範例: mdi-home"},scopedSlots:t._u([{key:"append",fn:function(){return[e(O.A,{attrs:{color:"primary"}},[t._v(t._s(t.read_data["icon"]))])]},proxy:!0}]),model:{value:t.read_data["icon"],callback:function(e){t.$set(t.read_data,"icon",e)},expression:"read_data['icon']"}})],1),e(i.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[e("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[t._v(" 跳轉路徑: ")]),e(z.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫跳轉路徑路徑",readonly:"",placeholder:"填寫範例: /redirect-path"},model:{value:t.read_data["redirect"],callback:function(e){t.$set(t.read_data,"redirect",e)},expression:"read_data['redirect']"}})],1),e(i.A,{staticClass:"d-flex flex-wrap align-center gap-4",attrs:{cols:"4"}},[e("span",{staticClass:"font-weight-bold text-subtitle-1"},[t._v(" 顯示順序： ")]),e(z.A,{staticStyle:{"max-width":"150px"},attrs:{type:"number","input-mode":"tel","background-color":"white",outlined:"",label:"請填寫跳轉路徑路徑",readonly:"","hide-details":""},model:{value:t.read_data["priority"],callback:function(e){t.$set(t.read_data,"priority",t._n(e))},expression:"read_data['priority']"}})],1),e(i.A,{staticClass:"d-flex flex-wrap align-center gap-4",attrs:{cols:"3"}},[e("div",{staticClass:"font-weight-bold text-subtitle-1"},[t._v(" 菜單： ")]),e(se,{staticClass:"w-max-content",attrs:{readonly:"",inset:"",color:"primary"},model:{value:t.read_data["is_menu"],callback:function(e){t.$set(t.read_data,"is_menu",e)},expression:"read_data['is_menu']"}})],1),e(i.A,{staticClass:"d-flex flex-wrap align-center gap-4",attrs:{cols:"3"}},[e("div",{staticClass:"font-weight-bold text-subtitle-1"},[t._v(" 停用狀態： ")]),e(se,{staticClass:"w-max-content",attrs:{readonly:"",inset:"",color:"primary"},model:{value:t.read_data["is_disabled"],callback:function(e){t.$set(t.read_data,"is_disabled",e)},expression:"read_data['is_disabled']"}})],1)],1)},oe=[],ne={name:"ReadMenuForm",components:{},props:["id"],data(){return{loading:!0,read_data:{title:null,path:null,name:null,component:null,is_menu:null,is_disabled:null,redirect:null,priority:null}}},watch:{id:{immediate:!0,handler(t){t&&this.fetchData()}}},methods:{async fetchData(){try{const t=await r.$1.getById(this.id);if(200===t.status){const e=t.data;this.read_data={title:e["title"],path:e["path"],name:e["name"],component:e["component"],is_menu:e["is_menu"],is_disabled:e["is_disabled"],redirect:e["redirect"],priority:e["priority"],icon:e["icon"]}}}catch(t){console.error(t)}finally{this.loading=!1}}}},re=ne,ce=(0,F.A)(re,le,oe,!1,null,"237ca11a",null),de=ce.exports,ue=a(174),he=function(){var t=this,e=t._self._c;return e(ue.A,{ref:"form",on:{submit:function(e){return e.preventDefault(),t.create.apply(null,arguments)}},model:{value:t.createFormValid,callback:function(e){t.createFormValid=e},expression:"createFormValid"}},[e(l.A,{staticClass:"justify-start"},[e(i.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[e("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[t._v(" 菜單標題: "),e("strong",{staticClass:"red--text font-weight-bold text-caption text-left text-sm-right"},[t._v(" (*必填) ")])]),e(z.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫標題",rules:[t.rules["required"]],placeholder:"填寫範例: 菜單標題"},model:{value:t.create_data["title"],callback:function(e){t.$set(t.create_data,"title",e)},expression:"create_data['title']"}})],1),e(i.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[e("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[t._v(" 菜單路徑: "),e("strong",{staticClass:"red--text font-weight-bold text-caption text-left text-sm-right"},[t._v(" (*必填) ")])]),e(z.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫路徑",rules:[t.rules["required"]],placeholder:"填寫範例: /path"},model:{value:t.create_data["path"],callback:function(e){t.$set(t.create_data,"path",e)},expression:"create_data['path']"}})],1),e(i.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[e("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[t._v(" 組件名稱: "),e("strong",{staticClass:"red--text font-weight-bold text-caption text-left text-sm-right"},[t._v(" (*必填) ")])]),e(z.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫組件名稱",rules:[t.rules["required"]],placeholder:"填寫範例: PathName"},model:{value:t.create_data["name"],callback:function(e){t.$set(t.create_data,"name",e)},expression:"create_data['name']"}})],1),e(i.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[e("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[t._v(" 組件路徑: "),e("strong",{staticClass:"red--text font-weight-bold text-caption text-left text-sm-right"},[t._v(" (*必填) ")])]),e(z.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫組件路徑",rules:[t.rules["required"]],placeholder:"填寫範例: Path/PathName"},model:{value:t.create_data["component"],callback:function(e){t.$set(t.create_data,"component",e)},expression:"create_data['component']"}})],1),e(i.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[e("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[t._v(" 菜單圖案: "),e("strong",{staticClass:"blue--text font-weight-bold text-caption text-left text-sm-right"},[t._v(" (非必填) ")])]),e(z.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫菜單圖案路徑",placeholder:"填寫範例: mdi-home"},scopedSlots:t._u([{key:"append",fn:function(){return[e(O.A,{attrs:{color:"primary"}},[t._v(t._s(t.create_data["icon"]))])]},proxy:!0}]),model:{value:t.create_data["icon"],callback:function(e){t.$set(t.create_data,"icon",e)},expression:"create_data['icon']"}})],1),e(i.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[e("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[t._v(" 跳轉路徑: "),e("strong",{staticClass:"blue--text font-weight-bold text-caption text-left text-sm-right"},[t._v(" (非必填) ")])]),e(z.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫跳轉路徑路徑",placeholder:"填寫範例: /redirect-path"},model:{value:t.create_data["redirect"],callback:function(e){t.$set(t.create_data,"redirect",e)},expression:"create_data['redirect']"}})],1),e(i.A,{staticClass:"d-flex flex-wrap align-center gap-4",attrs:{cols:"4"}},[e("span",{staticClass:"font-weight-bold text-subtitle-1"},[t._v(" 顯示順序： ")]),e(z.A,{staticStyle:{"max-width":"150px"},attrs:{type:"number","input-mode":"tel","background-color":"white",outlined:"",label:"請填寫跳轉路徑路徑","hide-details":"",rules:[t.rules["required"]]},model:{value:t.create_data["priority"],callback:function(e){t.$set(t.create_data,"priority",t._n(e))},expression:"create_data['priority']"}})],1),e(i.A,{staticClass:"d-flex flex-wrap align-center gap-4",attrs:{cols:"3"}},[e("div",{staticClass:"font-weight-bold text-subtitle-1"},[t._v(" 菜單： ")]),e(se,{staticClass:"w-max-content",attrs:{inset:"",color:"pink"},model:{value:t.create_data["is_menu"],callback:function(e){t.$set(t.create_data,"is_menu",e)},expression:"create_data['is_menu']"}})],1),e(i.A,{staticClass:"d-flex align-center justify-center gap-4",attrs:{cols:"12"}},[e(m.A,{staticClass:"font-weight-bold white--text",attrs:{color:"pink darken-2",type:"submit",width:"150",height:"50"}},[t._v(" 創建 ")])],1)],1)],1)},pe=[],me={name:"CreateMenuForm",components:{},data(){return{create_data:{title:null,path:null,name:null,component:null,is_menu:null,redirect:null,priority:null},createFormValid:!1,rules:{required:t=>!!t||"此欄位必須填寫!."}}},computed:{},async mounted(){},methods:{async create(){if(this.$refs.form.validate(),this.createFormValid)try{const t=new FormData;for(const[a,i]of Object.entries(this.create_data))i&&t.append(a,i);const e=await r.$1.create(t);201===e.status?(this.$swal.fire("創建成功","","success"),this.$emit("refresh"),this.$store.dispatch("menu/getMenus")):this.$swal.fire("創建失敗","","error")}catch(t){console.log(t),this.$swal.fire({title:"創建發生錯誤",text:t,icon:"error"})}else this.$swal.fire("請確實填寫內容","","error")}}},ge=me,_e=(0,F.A)(ge,he,pe,!1,null,"095b74d6",null),fe=_e.exports,ve=function(){var t=this,e=t._self._c;return e(ue.A,{ref:"form",on:{submit:function(e){return e.preventDefault(),t.update.apply(null,arguments)}},model:{value:t.updateFormValid,callback:function(e){t.updateFormValid=e},expression:"updateFormValid"}},[e(l.A,{staticClass:"justify-start"},[e(i.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[e("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[t._v(" 菜單標題: "),e("strong",{staticClass:"red--text font-weight-bold text-caption text-left text-sm-right"},[t._v(" (*必填) ")])]),e(z.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫標題",rules:[t.rules["required"]],placeholder:"填寫範例: 菜單標題"},model:{value:t.update_data["title"],callback:function(e){t.$set(t.update_data,"title",e)},expression:"update_data['title']"}})],1),e(i.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[e("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[t._v(" 菜單路徑: "),e("strong",{staticClass:"red--text font-weight-bold text-caption text-left text-sm-right"},[t._v(" (*必填) ")])]),e(z.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫路徑",rules:[t.rules["required"]],placeholder:"填寫範例: /path"},model:{value:t.update_data["path"],callback:function(e){t.$set(t.update_data,"path",e)},expression:"update_data['path']"}})],1),e(i.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[e("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[t._v(" 組件名稱: "),e("strong",{staticClass:"red--text font-weight-bold text-caption text-left text-sm-right"},[t._v(" (*必填) ")])]),e(z.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫組件名稱",rules:[t.rules["required"]],placeholder:"填寫範例: PathName"},model:{value:t.update_data["name"],callback:function(e){t.$set(t.update_data,"name",e)},expression:"update_data['name']"}})],1),e(i.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[e("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[t._v(" 組件路徑: "),e("strong",{staticClass:"red--text font-weight-bold text-caption text-left text-sm-right"},[t._v(" (*必填) ")])]),e(z.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫組件路徑",rules:[t.rules["required"]],placeholder:"填寫範例: Path/PathName"},model:{value:t.update_data["component"],callback:function(e){t.$set(t.update_data,"component",e)},expression:"update_data['component']"}})],1),e(i.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[e("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[t._v(" 菜單圖案: "),e("strong",{staticClass:"blue--text font-weight-bold text-caption text-left text-sm-right"},[t._v(" (非必填) ")])]),e(z.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫菜單圖案路徑",placeholder:"填寫範例: mdi-home"},scopedSlots:t._u([{key:"append",fn:function(){return[e(O.A,{attrs:{color:"primary"}},[t._v(t._s(t.update_data["icon"]))])]},proxy:!0}]),model:{value:t.update_data["icon"],callback:function(e){t.$set(t.update_data,"icon",e)},expression:"update_data['icon']"}})],1),e(i.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[e("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[t._v(" 跳轉路徑: "),e("strong",{staticClass:"blue--text font-weight-bold text-caption text-left text-sm-right"},[t._v(" (非必填) ")])]),e(z.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫跳轉路徑路徑",placeholder:"填寫範例: /redirect-path"},model:{value:t.update_data["redirect"],callback:function(e){t.$set(t.update_data,"redirect",e)},expression:"update_data['redirect']"}})],1),e(i.A,{staticClass:"d-flex flex-wrap align-center gap-4",attrs:{cols:"4"}},[e("span",{staticClass:"font-weight-bold text-subtitle-1"},[t._v(" 顯示順序： ")]),e(z.A,{staticStyle:{"max-width":"150px"},attrs:{type:"number","input-mode":"tel","background-color":"white",outlined:"",label:"請填寫跳轉路徑路徑","hide-details":"",rules:[t.rules["required"]]},model:{value:t.update_data["priority"],callback:function(e){t.$set(t.update_data,"priority",t._n(e))},expression:"update_data['priority']"}})],1),e(i.A,{staticClass:"d-flex flex-wrap align-center gap-4",attrs:{cols:"3"}},[e("div",{staticClass:"font-weight-bold text-subtitle-1"},[t._v(" 菜單： ")]),e(se,{staticClass:"w-max-content",attrs:{inset:"",color:"primary"},model:{value:t.update_data["is_menu"],callback:function(e){t.$set(t.update_data,"is_menu",e)},expression:"update_data['is_menu']"}})],1),e(i.A,{staticClass:"d-flex flex-wrap align-center gap-4",attrs:{cols:"3"}},[e("div",{staticClass:"font-weight-bold text-subtitle-1"},[t._v(" 停用狀態： ")]),e(se,{staticClass:"w-max-content",attrs:{inset:"",color:"primary"},model:{value:t.update_data["is_disabled"],callback:function(e){t.$set(t.update_data,"is_disabled",e)},expression:"update_data['is_disabled']"}})],1),e(i.A,{staticClass:"d-flex align-center justify-center gap-4",attrs:{cols:"12"}},[e(m.A,{staticClass:"font-weight-bold white--text",attrs:{color:"primary darken-2",type:"submit",width:"150",height:"50"}},[t._v(" 儲存 ")])],1)],1)],1)},be=[],xe={name:"UpdateMenuForm",components:{},props:["id"],data(){return{loading:!0,update_data:{},updateFormValid:!1,rules:{required:t=>!!t||"此欄位必須填寫!."}}},watch:{id:{immediate:!0,handler(t){t&&this.fetchData()}}},methods:{async fetchData(){try{const t=await r.$1.getById(this.id);if(200===t.status){const e=t.data;this.update_data={title:e["title"],path:e["path"],name:e["name"],component:e["component"],is_menu:e["is_menu"],is_disabled:e["is_disabled"],redirect:e["redirect"],priority:e["priority"],icon:e["icon"]}}}catch(t){console.error(t)}finally{this.loading=!1}},async update(){if(this.$refs.form.validate(),this.updateFormValid)try{const t=new FormData;for(const[a,i]of Object.entries(this.update_data))null===i&&void 0===i||t.append(a,i);const e=await r.$1.update(this.id,t);200===e.status?(this.$swal.fire("儲存成功","","success"),this.$emit("refresh"),this.$store.dispatch("menu/getMenus")):this.$swal.fire("儲存失敗","","error")}catch(t){console.log(t),this.$swal.fire({title:"儲存發生錯誤",text:t,icon:"error"})}else this.$swal.fire("請確實填寫內容","","error")}}},ye=xe,we=(0,F.A)(ye,ve,be,!1,null,"d6b96494",null),Ce=we.exports,Ae={components:{CustomDialog:H,CustomDataTable:jt,MenuTableItem:Jt,MenuRecursiveTable:ee,ReadMenuForm:de,CreateMenuForm:fe,UpdateMenuForm:Ce},data(){return{dialog:!1,loading:!0,items:[],itemsLength:0,disabled_select:["title"],options:{page:1,itemsPerPage:30,sortBy:["priority"],sortDesc:[!1]},headers:[{text:"",value:"data-table-expand"},{text:"菜單標題",value:"title",sortable:!0},{text:"操作",value:"actions",sortable:!0},{text:"菜單圖案",value:"icon",sortable:!0},{text:"顯示順序",value:"priority",sortable:!0},{text:"菜單",value:"is_menu",sortable:!0},{text:"狀態",value:"is_disabled",sortable:!0},{text:"路徑",value:"path",sortable:!0},{text:"組件名稱",value:"name",sortable:!0},{text:"組件路徑",value:"component",sortable:!0},{text:"跳轉路徑",value:"redirect",sortable:!0}],create_dialog:!1,read_dialog:!1,update_dialog:!1,read_id:null,update_id:null,depth:1}},computed:{actions_buttons(){return[{title:"瀏覽",icon:"mdi-eye",icon_color:"grey darken-1",tooltip_color:"grey lighten-2",btn_color:"blue-grey lighten-4",onClick:this.read},{title:"修改",icon:"mdi-pencil",icon_color:"primary darken-1",tooltip_color:"blue lighten-4",btn_color:"primary lighten-4",onClick:this.update},{title:"刪除",icon:"mdi-delete",icon_color:"error darken-1",tooltip_color:"error lighten-4",btn_color:"error lighten-4",onClick:this.delete}]}},async mounted(){await this.fetchData()},methods:{async fetchData(){this.loading=!0;try{const t=c(this.options);t.append("is_children",!1),t.append("include_children",!0);const e=await r.$1.getAll(t);if(200===e.status){const{data:t,count:a}=e.data;this.items=t,this.itemsLength=a}}catch(t){console.error(t)}finally{this.loading=!1}},emitUpdateOptions(t){this.options=t,this.fetchData()},emitCreate(){this.create_dialog=!0},read(t){this.read_dialog=!0,this.read_id=t},update(t){this.update_dialog=!0,this.update_id=t},async delete(t){const e=await h();if(e.isConfirmed){const e=await p();if(e)try{const e=await r.$1.delete(t);204===e.status&&(this.$swal.fire("刪除成功","","success"),await this.fetchData(),await this.$store.dispatch("menu/getMenus"))}catch(a){this.$swal.fire("刪除失敗",a,"error")}}},async refreshData(){await this.fetchData(),this.create_dialog=!1,this.update_dialog=!1}}},ke=Ae,$e=(0,F.A)(ke,o,n,!1,null,"0d99fef6",null),Se=$e.exports},1484:function(t,e,a){a.d(e,{A:function(){return r}});var i=a(9375),s=a(3801),l=a(8418),o=a(5803),n=a(4152),r=(0,o.A)(s.A,l.A,i.A).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes(){return{"v-card":!0,...l.A.options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised,...i.A.options.computed.classes.call(this)}},styles(){const t={...i.A.options.computed.styles.call(this)};return this.img&&(t.background=`url("${this.img}") center center / cover no-repeat`),t}},methods:{genProgress(){const t=s.A.options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render(t){const{tag:e,data:a}=this.generateRouteLink();return a.style=this.styles,this.isClickable&&(a.attrs=a.attrs||{},a.attrs.tabindex=0),t(e,this.setBackgroundColor(this.color,a),[this.genProgress(),(0,n.$c)(this)])}})},2938:function(t,e,a){a.d(e,{OQ:function(){return n},SL:function(){return l},ri:function(){return r}});var i=a(1484),s=a(4152);const l=(0,s.Gn)("v-card__actions"),o=(0,s.Gn)("v-card__subtitle"),n=(0,s.Gn)("v-card__text"),r=(0,s.Gn)("v-card__title");i.A},174:function(t,e,a){a(4114);var i=a(5803),s=a(7717),l=a(7540),o=a(4152);e.A=(0,i.A)(s.A,(0,l.G)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",(e=>{this.$set(this.errorBag,t._uid,e)}),{immediate:!0}),a={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?a.shouldValidate=t.$watch("shouldValidate",(i=>{i&&(this.errorBag.hasOwnProperty(t._uid)||(a.valid=e(t)))})):a.valid=e(t),a},validate(){return 0===this.inputs.filter((t=>!t.validate(!0))).length},reset(){this.inputs.forEach((t=>t.reset())),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout((()=>{this.errorBag={}}),0)},resetValidation(){this.inputs.forEach((t=>t.resetValidation())),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find((e=>e._uid===t._uid));if(!e)return;const a=this.watchers.find((t=>t._uid===e._uid));a&&(a.valid(),a.shouldValidate()),this.watchers=this.watchers.filter((t=>t._uid!==e._uid)),this.inputs=this.inputs.filter((t=>t._uid!==e._uid)),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},(0,o.$c)(this))}})}}]);
//# sourceMappingURL=303.dce7e0ec.js.map