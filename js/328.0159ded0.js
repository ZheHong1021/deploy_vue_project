"use strict";(self["webpackChunkdeploy_vue_project"]=self["webpackChunkdeploy_vue_project"]||[]).push([[328],{1328:function(e,s,t){t.r(s),t.d(s,{default:function(){return u}});var o=function(){var e=this,s=e._self._c;return s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{placeholder:"Type a message"},domProps:{value:e.message},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.sendMessage.apply(null,arguments)},input:function(s){s.target.composing||(e.message=s.target.value)}}}),s("button",{on:{click:e.sendMessage}},[e._v("Send")]),e._l(e.messages,(function(t,o){return s("div",{key:o},[e._v(e._s(t))])})),s("div",[e._v("Status: "+e._s(e.statusMessage))])],2)},n=[],a=(t(4114),{data(){return{socket:null,message:"",messages:[],statusMessage:"Connecting..."}},methods:{initWebSocket(){this.socket=new WebSocket("ws://localhost:8000/ws/order/"),this.socket.onopen=()=>{this.statusMessage="Connected",console.log("WebSocket connection opened")},this.socket.onmessage=e=>{const s=JSON.parse(e.data);this.messages.push(s.message)},this.socket.onclose=()=>{this.statusMessage="Disconnected",console.log("WebSocket connection closed")},this.socket.onerror=e=>{this.statusMessage="Error",console.error("WebSocket error:",e)}},sendMessage(){this.socket&&this.socket.readyState===WebSocket.OPEN?(this.socket.send(JSON.stringify({message:this.message})),this.message=""):(console.warn("WebSocket is not open: readyState is",this.socket.readyState),this.statusMessage="WebSocket is not open. Ready state: "+this.socket.readyState)}},mounted(){this.initWebSocket()},beforeDestroy(){this.socket&&this.socket.close()}}),c=a,i=t(1656),r=(0,i.A)(c,o,n,!1,null,null,null),u=r.exports}}]);
//# sourceMappingURL=328.0159ded0.js.map