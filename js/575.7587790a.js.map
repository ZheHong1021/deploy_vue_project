{"version":3,"file":"js/575.7587790a.js","mappings":"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","sources":["webpack://deploy_vue_project/./src/views/Admin/Group/GroupList.vue","webpack://deploy_vue_project/./src/components/Admin/Group/Form/CreateGroupForm.vue","webpack://deploy_vue_project/src/components/Admin/Group/Form/CreateGroupForm.vue","webpack://deploy_vue_project/./src/components/Admin/Group/Form/CreateGroupForm.vue?14d4","webpack://deploy_vue_project/./src/components/Admin/Group/Form/CreateGroupForm.vue?68a5","webpack://deploy_vue_project/./src/components/Admin/Group/Form/ReadGroupForm.vue","webpack://deploy_vue_project/./src/components/Admin/Permission/PermissionCheckedList.vue","webpack://deploy_vue_project/src/components/Admin/Permission/PermissionCheckedList.vue","webpack://deploy_vue_project/./src/components/Admin/Permission/PermissionCheckedList.vue?9d63","webpack://deploy_vue_project/./src/components/Admin/Permission/PermissionCheckedList.vue?8b60","webpack://deploy_vue_project/src/components/Admin/Group/Form/ReadGroupForm.vue","webpack://deploy_vue_project/./src/components/Admin/Group/Form/ReadGroupForm.vue?8aa2","webpack://deploy_vue_project/./src/components/Admin/Group/Form/ReadGroupForm.vue?87a7","webpack://deploy_vue_project/./src/components/Admin/Group/Form/UpdateGroupForm.vue","webpack://deploy_vue_project/src/components/Admin/Group/Form/UpdateGroupForm.vue","webpack://deploy_vue_project/./src/components/Admin/Group/Form/UpdateGroupForm.vue?7ee7","webpack://deploy_vue_project/./src/components/Admin/Group/Form/UpdateGroupForm.vue?60a7","webpack://deploy_vue_project/src/views/Admin/Group/GroupList.vue","webpack://deploy_vue_project/./src/views/Admin/Group/GroupList.vue?8105","webpack://deploy_vue_project/./src/views/Admin/Group/GroupList.vue?58cd"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('CustomDataTable',{attrs:{\"items\":_vm.items,\"itemsLength\":_vm.itemsLength,\"options\":_vm.options,\"headers\":_vm.headers,\"height\":\"100%\",\"loading\":_vm.loading,\"disabled_select\":_vm.disabled_select,\"fixed-header\":false,\"show-expand\":\"\"},on:{\"emitUpdateOptions\":_vm.emitUpdateOptions,\"create\":_vm.emitCreate,\"read\":_vm.emitRead,\"update\":_vm.emitUpdate,\"delete\":_vm.emitDelete}})],1)],1),_c('CustomDialog',{attrs:{\"title\":\"新增角色\",\"color\":\"pink darken-2\"},scopedSlots:_vm._u([{key:\"body\",fn:function(){return [(_vm.create_dialog)?_c('CreateGroupForm',{on:{\"refresh\":_vm.refreshData}}):_vm._e()]},proxy:true}]),model:{value:(_vm.create_dialog),callback:function ($$v) {_vm.create_dialog=$$v},expression:\"create_dialog\"}}),_c('CustomDialog',{attrs:{\"title\":\"瀏覽角色\",\"color\":\"grey darken-2\"},scopedSlots:_vm._u([{key:\"body\",fn:function(){return [(_vm.read_dialog)?_c('ReadGroupForm',{attrs:{\"id\":_vm.read_id}}):_vm._e()]},proxy:true}]),model:{value:(_vm.read_dialog),callback:function ($$v) {_vm.read_dialog=$$v},expression:\"read_dialog\"}}),_c('CustomDialog',{attrs:{\"title\":\"修改角色\",\"color\":\"primary darken-2\"},scopedSlots:_vm._u([{key:\"body\",fn:function(){return [(_vm.update_dialog)?_c('UpdateGroupForm',{attrs:{\"id\":_vm.update_id},on:{\"refresh\":_vm.refreshData}}):_vm._e()]},proxy:true}]),model:{value:(_vm.update_dialog),callback:function ($$v) {_vm.update_dialog=$$v},expression:\"update_dialog\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.create.apply(null, arguments)}},model:{value:(_vm.createFormValid),callback:function ($$v) {_vm.createFormValid=$$v},expression:\"createFormValid\"}},[_c('v-row',{staticClass:\"justify-start\"},[_c('v-col',{staticClass:\"d-flex flex-column gap-2\",attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"label-container font-weight-bold text-subtitle-1\"},[_vm._v(\" 角色代號: \"),_c('strong',{staticClass:\"red--text font-weight-bold text-caption text-left text-sm-right\"},[_vm._v(\" (*必填) \")])]),_c('v-text-field',{attrs:{\"background-color\":\"white\",\"outlined\":\"\",\"label\":\"請填寫角色代號\",\"rules\":[_vm.rules['requiredRules']],\"placeholder\":\"填寫範例: role\"},model:{value:(_vm.create_data['name']),callback:function ($$v) {_vm.$set(_vm.create_data, 'name', $$v)},expression:\"create_data['name']\"}})],1),_c('v-col',{staticClass:\"d-flex flex-column gap-2\",attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"label-container font-weight-bold text-subtitle-1\"},[_vm._v(\" 角色名稱: \"),_c('strong',{staticClass:\"red--text font-weight-bold text-caption text-left text-sm-right\"},[_vm._v(\" (*必填) \")])]),_c('v-text-field',{attrs:{\"background-color\":\"white\",\"outlined\":\"\",\"label\":\"請填寫角色名稱\",\"rules\":[_vm.rules['requiredRules']],\"placeholder\":\"填寫範例: 角色\"},model:{value:(_vm.create_data['name_zh']),callback:function ($$v) {_vm.$set(_vm.create_data, 'name_zh', $$v)},expression:\"create_data['name_zh']\"}})],1),_c('v-col',{staticClass:\"d-flex align-center justify-center gap-4\",attrs:{\"cols\":\"12\"}},[_c('v-btn',{staticClass:\"font-weight-bold white--text\",attrs:{\"color\":\"pink darken-2\",\"type\":\"submit\",\"width\":\"150\",\"height\":\"50\"}},[_vm._v(\" 創建 \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-form ref=\"form\" \r\n        v-model=\"createFormValid\" \r\n        @submit.prevent=\"create\" >\r\n\r\n        <v-row class=\"justify-start\">\r\n    \r\n\r\n            <!-- #region (代號) -->\r\n            <v-col cols=\"12\" md=\"6\" class=\"d-flex flex-column gap-2\">\r\n                <div class=\"label-container font-weight-bold text-subtitle-1\">\r\n                    角色代號:\r\n                    <strong class=\"red--text font-weight-bold text-caption text-left text-sm-right\">\r\n                        (*必填)\r\n                    </strong>\r\n                </div>\r\n\r\n                <v-text-field v-model=\"create_data['name']\"\r\n                    background-color=\"white\" outlined label=\"請填寫角色代號\"\r\n                    :rules=\"[rules['requiredRules']]\"\r\n                    placeholder=\"填寫範例: role\">\r\n                </v-text-field>\r\n            </v-col> \r\n            <!-- #endregion -->\r\n    \r\n\r\n            <!-- #region (角色名稱) -->\r\n            <v-col cols=\"12\" md=\"6\" class=\"d-flex flex-column gap-2\">\r\n                <div class=\"label-container font-weight-bold text-subtitle-1\">\r\n                    角色名稱:\r\n                    <strong class=\"red--text font-weight-bold text-caption text-left text-sm-right\">\r\n                        (*必填)\r\n                    </strong>\r\n                </div>\r\n\r\n                <v-text-field v-model=\"create_data['name_zh']\"\r\n                    background-color=\"white\" outlined label=\"請填寫角色名稱\"\r\n                    :rules=\"[rules['requiredRules']]\"\r\n                    placeholder=\"填寫範例: 角色\">\r\n                </v-text-field>\r\n            </v-col> \r\n            <!-- #endregion -->\r\n\r\n\r\n            <v-col cols=\"12\" class=\"d-flex align-center justify-center gap-4\">\r\n                <v-btn color=\"pink darken-2\" type=\"submit\" class=\"font-weight-bold white--text\"\r\n                    width=\"150\" height=\"50\">\r\n                    創建\r\n                </v-btn>\r\n            </v-col>\r\n        </v-row>\r\n\r\n    </v-form>\r\n                \r\n</template>\r\n\r\n<script>\r\nimport { GroupProfileService } from '@/api/services'\r\nimport { rules } from '@/utils';\r\nexport default {\r\n    name: \"CreateGroupForm\",\r\n    components: {\r\n    },\r\n\r\n    data(){\r\n        return {\r\n            create_data: {\r\n                \"name\": null,\r\n                \"name_zh\": null,\r\n            },\r\n            createFormValid: false, // 是否符合規則\r\n            rules: rules,\r\n        }\r\n    },\r\n\r\n    computed: {\r\n    },\r\n\r\n    async mounted(){\r\n    },\r\n    \r\n    methods: {\r\n\r\n        async create(){\r\n            this.$refs.form.validate()\r\n            if(!this.createFormValid){\r\n                this.$swal.fire(\"請確實填寫內容\", \"\", \"error\")\r\n                return\r\n            }\r\n\r\n            try{\r\n                const formData = new FormData()\r\n                for(const [key, value] of Object.entries(this.create_data)){\r\n                    if (value !== null && value !== undefined) {\r\n                        formData.append(key, value)\r\n                    }\r\n                }\r\n                const response = await GroupProfileService.create(formData)\r\n                if(response.status === 201){\r\n                    this.$swal.fire(\"創建成功\", \"\", \"success\")\r\n                    this.$emit(\"refresh\")\r\n                }\r\n                else{\r\n                    this.$swal.fire(\"創建失敗\", \"\", \"error\")\r\n                }\r\n            }\r\n            catch(err){\r\n                console.error(err);\r\n            }\r\n        },\r\n\r\n        \r\n   \r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    div.label-container{\r\n        min-width: 150px;\r\n    }\r\n   \r\n</style>","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CreateGroupForm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CreateGroupForm.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CreateGroupForm.vue?vue&type=template&id=23dad47b&scoped=true\"\nimport script from \"./CreateGroupForm.vue?vue&type=script&lang=js\"\nexport * from \"./CreateGroupForm.vue?vue&type=script&lang=js\"\nimport style0 from \"./CreateGroupForm.vue?vue&type=style&index=0&id=23dad47b&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23dad47b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-row',{staticClass:\"justify-start\"},[_c('v-col',{staticClass:\"d-flex flex-column gap-2\",attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"label-container font-weight-bold text-subtitle-1\"},[_vm._v(\" 角色代號: \")]),_c('v-text-field',{attrs:{\"background-color\":\"white\",\"outlined\":\"\",\"label\":\"請填寫代號\",\"readonly\":\"\",\"placeholder\":\"填寫範例: role\"},model:{value:(_vm.read_data['name']),callback:function ($$v) {_vm.$set(_vm.read_data, 'name', $$v)},expression:\"read_data['name']\"}})],1),_c('v-col',{staticClass:\"d-flex flex-column gap-2\",attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"label-container font-weight-bold text-subtitle-1\"},[_vm._v(\" 角色名稱: \")]),_c('v-text-field',{attrs:{\"background-color\":\"white\",\"outlined\":\"\",\"label\":\"請填寫名稱\",\"readonly\":\"\",\"placeholder\":\"填寫範例: 角色\"},model:{value:(_vm.read_data['name_zh']),callback:function ($$v) {_vm.$set(_vm.read_data, 'name_zh', $$v)},expression:\"read_data['name_zh']\"}})],1),_c('v-col',{staticClass:\"d-flex flex-column gap-2\",attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"label-container font-weight-bold text-subtitle-1\"},[_vm._v(\" 權限選擇: \")]),_c('PermissionTreeList',{attrs:{\"readonly\":\"\"},model:{value:(_vm.read_data['permissions']),callback:function ($$v) {_vm.$set(_vm.read_data, 'permissions', $$v)},expression:\"read_data['permissions']\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"table-container mt-1\"},[_c('table',{staticClass:\"black--text text-subtitle-2 text-md-subtitle-1\",attrs:{\"id\":\"table\",\"border\":\"1\"}},[_c('thead',{staticClass:\"text-subtitle-2 text-md-subtitle-1\"},_vm._l((_vm.headers),function(header){return _c('th',{key:header['value']},[_vm._v(\" \"+_vm._s(header['text'])+\" \")])}),0),_c('tbody',{staticClass:\"text-subtitle-2 text-md-subtitle-1\",attrs:{\"align\":\"center\"}},_vm._l((_vm.tree_permissions),function(value,key){return _c('tr',{key:key},_vm._l((_vm.headers),function(header){return _c('td',{key:header['value'],class:{\n                'is_checked': _vm.is_checked_column(value[header['value']]?.id)\n              }},[(header.value === 'content_type_name')?[_vm._v(\" \"+_vm._s(key)+\" \")]:[_c('div',{staticClass:\"d-flex flex-wrap justify-center align-center\"},[_c('v-checkbox',{staticClass:\"custom-checkbox\",attrs:{\"value\":value[header.value]['id'],\"label\":value[header.value]['name'],\"readonly\":_vm.readonly,\"disabled\":_vm.readonly},on:{\"change\":_vm.emitEvent},model:{value:(_vm.permission_checked),callback:function ($$v) {_vm.permission_checked=$$v},expression:\"permission_checked\"}})],1)]],2)}),0)}),0)])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-row>\r\n    <v-col cols=\"12\">\r\n      <div class=\"table-container mt-1\">\r\n        <table id=\"table\" border=\"1\" class=\"black--text text-subtitle-2 text-md-subtitle-1\">\r\n          <thead class=\"text-subtitle-2 text-md-subtitle-1\">\r\n            <th v-for=\"header in headers\" :key=\"header['value']\">\r\n                {{ header['text'] }}\r\n            </th>\r\n          </thead>\r\n          <tbody align=\"center\" class=\"text-subtitle-2 text-md-subtitle-1\">\r\n            <tr v-for=\"(value, key) in tree_permissions\" :key=\"key\">\r\n              <td v-for=\"header in headers\" :key=\"header['value']\"\r\n                :class=\"{\r\n                  'is_checked': is_checked_column(value[header['value']]?.id)\r\n                }\">\r\n                <!-- 權限對象 -->\r\n                <template v-if=\"header.value === 'content_type_name'\">\r\n                    {{ key }}\r\n                </template>\r\n                \r\n                <!-- 其他操作 -->\r\n                <template v-else>\r\n                  <div class=\"d-flex flex-wrap justify-center align-center\">\r\n                      <v-checkbox class=\"custom-checkbox\"\r\n                          v-model=\"permission_checked\"\r\n                          :value=\"value[header.value]['id']\"\r\n                          :label=\"value[header.value]['name']\"\r\n                          :readonly=\"readonly\" :disabled=\"readonly\"\r\n                          @change=\"emitEvent\">\r\n                      </v-checkbox>\r\n                  </div>\r\n                </template>\r\n              </td>\r\n\r\n          \r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </v-col>\r\n  </v-row>\r\n</template>\r\n\r\n<script>\r\nimport { PermissionService } from \"@/api/services\";\r\nexport default {\r\n  name: \"PermissionTreeList\",\r\n  props: {\r\n    value: { // 已被選取的權限\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n\r\n    readonly: {\r\n      type: Boolean,\r\n      default: false,\r\n    }\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      permissions: [],\r\n      tree_permissions: {},\r\n\r\n\r\n      permission_checked: [],\r\n\r\n      headers: [\r\n        {text: '權限對象', value: 'content_type_name'},\r\n        {text: '查看', value: '查看'},\r\n        {text: '新增', value: '新增'},\r\n        {text: '修改', value: '修改'},\r\n        {text: '刪除', value: '刪除'},\r\n      ],\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    value: {\r\n      immediate: true,\r\n      handler(newVal){\r\n        this.permission_checked = this.value\r\n      }\r\n    }\r\n  },\r\n\r\n  async mounted() {\r\n    await this.fetchPermission();\r\n  },\r\n\r\n  methods: {\r\n    async fetchPermission() {\r\n      try {\r\n        const params = new URLSearchParams({\r\n          page_size: -1,\r\n        });\r\n        const response = await PermissionService.get_all(params);\r\n        if (response.status === 200) {\r\n          const { data, count } = response.data;\r\n          this.permissions = data;\r\n          await this.getTreePermission();\r\n        }\r\n      } catch (e) {\r\n        console.log(e);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n\r\n    emitEvent($event){\r\n      const { permission_checked } = this\r\n\r\n      // 已經存在\r\n      if(permission_checked.includes($event)){\r\n        this.$emit('input', permission_checked.filter(item => item !== $event));\r\n      }\r\n\r\n      // 勾選\r\n      else if($event){\r\n        this.$emit('input', this.permission_checked);\r\n      }\r\n    },\r\n\r\n    // 整理permissions\r\n    // 1. 將permissions整理成樹狀結構\r\n    // 2. 將permissions整理成v-treeview需要的格式\r\n    getTreePermission() {\r\n      const tree_permissions = {};\r\n\r\n      for (const permission of this.permissions) {\r\n        const { content_type_name, action } = permission;\r\n        if (!tree_permissions[content_type_name]) {\r\n          tree_permissions[content_type_name] = {};\r\n        }\r\n\r\n        if(!tree_permissions[content_type_name][action]) {\r\n          tree_permissions[content_type_name][action] = {};\r\n        }\r\n\r\n        tree_permissions[content_type_name][action] = permission\r\n      }\r\n\r\n      this.tree_permissions = tree_permissions;\r\n    },\r\n\r\n    // 檢查是否有被選取\r\n    is_checked_column(id){\r\n      return this.value.includes(id);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.custom-checkbox .v-label {\r\n  color: black !important;\r\n}\r\n\r\n/* 表格設定 */\r\n.table-container {\r\n  width: 100%;\r\n  padding: 0 2px;\r\n  overflow: auto; /* 滾動 */\r\n  max-height: 400px; /* 固定高度(用於實現凍結窗格功能) */\r\n}\r\n\r\n#table {\r\n  width: 100%;\r\n  border: 1px solid rgb(102, 11, 11);\r\n  border-collapse: collapse;\r\n  height: auto;\r\n  white-space: nowrap; /*讓文字不會因為寬度自動斷行*/\r\n}\r\n\r\n#table {\r\n  thead {\r\n    /* 凍結列位置 */\r\n    z-index: 3; /* 不要讓 text-field給擋住了 */\r\n    position: sticky;\r\n    top: 0;\r\n    background-color: rgb(0, 128, 83);\r\n    color: white;\r\n\r\n    th {\r\n      /* 凍結列位置 */\r\n      padding: 0.5rem 1rem;\r\n    }\r\n  }\r\n\r\n  td {\r\n    padding: 0.5rem;\r\n\r\n    &.is_checked{\r\n      background-color: #ffcfc4;\r\n    }\r\n  }\r\n\r\n  tr {\r\n    background-color: #ecf0f1; // 奇數列\r\n\r\n    &:nth-child(even) {\r\n      // 偶數列\r\n      background-color: #d1d8e0;\r\n    }\r\n  }\r\n}\r\n\r\n/* 表格ScrollBar設定 */\r\n/* width */\r\n.table-container {\r\n  &::-webkit-scrollbar {\r\n    width: 0.5rem;\r\n    height: 15px;\r\n  }\r\n\r\n  /* Track */\r\n  &::-webkit-scrollbar-track {\r\n    box-shadow: inset 0 0 5px grey;\r\n    border-radius: 10px;\r\n  }\r\n\r\n  /* Handle */\r\n  &::-webkit-scrollbar-thumb {\r\n    background: linear-gradient(to right, #34495e 50%, #fc466b 50%);\r\n    background-size: 30px 100%;\r\n    border-radius: 10px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PermissionCheckedList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PermissionCheckedList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PermissionCheckedList.vue?vue&type=template&id=51880f69&scoped=true\"\nimport script from \"./PermissionCheckedList.vue?vue&type=script&lang=js\"\nexport * from \"./PermissionCheckedList.vue?vue&type=script&lang=js\"\nimport style0 from \"./PermissionCheckedList.vue?vue&type=style&index=0&id=51880f69&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51880f69\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <v-row class=\"justify-start\">\r\n\r\n\r\n        <!-- #region (代號) -->\r\n        <v-col cols=\"12\" md=\"6\" class=\"d-flex flex-column gap-2\">\r\n            <div class=\"label-container font-weight-bold text-subtitle-1\">\r\n                角色代號:\r\n            </div>\r\n\r\n            <v-text-field v-model=\"read_data['name']\" background-color=\"white\" outlined label=\"請填寫代號\" readonly\r\n                placeholder=\"填寫範例: role\">\r\n            </v-text-field>\r\n        </v-col>\r\n        <!-- #endregion -->\r\n\r\n\r\n        <!-- #region (名稱) -->\r\n        <v-col cols=\"12\" md=\"6\" class=\"d-flex flex-column gap-2\">\r\n            <div class=\"label-container font-weight-bold text-subtitle-1\">\r\n                角色名稱:\r\n            </div>\r\n\r\n            <v-text-field v-model=\"read_data['name_zh']\" background-color=\"white\" outlined label=\"請填寫名稱\" readonly\r\n                placeholder=\"填寫範例: 角色\">\r\n            </v-text-field>\r\n        </v-col>\r\n        <!-- #endregion -->\r\n\r\n        <!-- #region (角色權限選擇) -->\r\n        <v-col cols=\"12\" class=\"d-flex flex-column gap-2\">\r\n            <div class=\"label-container font-weight-bold text-subtitle-1\">\r\n                權限選擇:\r\n            </div>\r\n            <PermissionTreeList \r\n                v-model=\"read_data['permissions']\"\r\n                readonly/>\r\n        </v-col>\r\n        <!-- #endregion -->\r\n\r\n     \r\n        \r\n    </v-row>\r\n</template>\r\n\r\n<script>\r\nimport { GroupProfileService } from '@/api/services'\r\nimport PermissionTreeList from '../../Permission/PermissionCheckedList.vue';\r\nexport default {\r\n    name: \"ReadGroupForm\",\r\n    components: {\r\n        PermissionTreeList\r\n    },\r\n    props: ['id'],\r\n    data() {\r\n        return {\r\n            loading: true,\r\n            read_data: {\r\n                name: null,\r\n                name_zh: null,\r\n                permissions: [],\r\n            },\r\n        }\r\n    },\r\n\r\n    watch: {\r\n        id: {\r\n            immediate: true,\r\n            handler(newVal){\r\n                if(newVal){\r\n                    this.fetchData()\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        async fetchData() {\r\n            try {\r\n                const response = await GroupProfileService.get_by_id(this.id)\r\n                if (response.status === 200) {\r\n                    this.read_data = {\r\n                        name: response.data.name,\r\n                        name_zh: response.data.name_zh,\r\n                        permissions: response.data.permissions.map(permission => permission.id),\r\n                    }\r\n                }\r\n            }\r\n            catch (err) {\r\n                console.error(err);\r\n            }\r\n            finally {\r\n                this.loading = false\r\n            }\r\n        },\r\n\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\ndiv.label-container {\r\n    min-width: 150px;\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ReadGroupForm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ReadGroupForm.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ReadGroupForm.vue?vue&type=template&id=e322287c&scoped=true\"\nimport script from \"./ReadGroupForm.vue?vue&type=script&lang=js\"\nexport * from \"./ReadGroupForm.vue?vue&type=script&lang=js\"\nimport style0 from \"./ReadGroupForm.vue?vue&type=style&index=0&id=e322287c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e322287c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.update.apply(null, arguments)}},model:{value:(_vm.updateFormValid),callback:function ($$v) {_vm.updateFormValid=$$v},expression:\"updateFormValid\"}},[_c('v-row',{staticClass:\"justify-start\"},[_c('v-col',{staticClass:\"d-flex flex-column gap-2\",attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"label-container font-weight-bold text-subtitle-1\"},[_vm._v(\" 角色代號: \"),_c('strong',{staticClass:\"red--text font-weight-bold text-caption text-left text-sm-right\"},[_vm._v(\" (*必填) \")])]),_c('v-text-field',{attrs:{\"background-color\":\"white\",\"outlined\":\"\",\"label\":\"請填寫代號\",\"rules\":[_vm.rules['requiredRules']],\"placeholder\":\"填寫範例: teacher\"},model:{value:(_vm.update_data['name']),callback:function ($$v) {_vm.$set(_vm.update_data, 'name', $$v)},expression:\"update_data['name']\"}})],1),_c('v-col',{staticClass:\"d-flex flex-column gap-2\",attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('div',{staticClass:\"label-container font-weight-bold text-subtitle-1\"},[_vm._v(\" 角色名稱: \"),_c('strong',{staticClass:\"red--text font-weight-bold text-caption text-left text-sm-right\"},[_vm._v(\" (*必填) \")])]),_c('v-text-field',{attrs:{\"background-color\":\"white\",\"outlined\":\"\",\"label\":\"請填寫名稱\",\"rules\":[_vm.rules['requiredRules']],\"placeholder\":\"填寫範例: 老師\"},model:{value:(_vm.update_data['name_zh']),callback:function ($$v) {_vm.$set(_vm.update_data, 'name_zh', $$v)},expression:\"update_data['name_zh']\"}})],1),_c('v-col',{staticClass:\"d-flex flex-column gap-2\",attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"label-container font-weight-bold text-subtitle-1\"},[_vm._v(\" 權限選擇: \")]),_c('PermissionTreeList',{model:{value:(_vm.update_data['permissions']),callback:function ($$v) {_vm.$set(_vm.update_data, 'permissions', $$v)},expression:\"update_data['permissions']\"}})],1),_c('v-col',{staticClass:\"d-flex align-center justify-center gap-4\",attrs:{\"cols\":\"12\"}},[_c('v-btn',{staticClass:\"font-weight-bold white--text\",attrs:{\"color\":\"primary darken-2\",\"type\":\"submit\",\"width\":\"150\",\"height\":\"50\"}},[_vm._v(\" 儲存 \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-form ref=\"form\" v-model=\"updateFormValid\" @submit.prevent=\"update\">\r\n\r\n        <v-row class=\"justify-start\">\r\n\r\n\r\n            <!-- #region (代號) -->\r\n            <v-col cols=\"12\" md=\"6\" class=\"d-flex flex-column gap-2\">\r\n                <div class=\"label-container font-weight-bold text-subtitle-1\">\r\n                    角色代號:\r\n                    <strong class=\"red--text font-weight-bold text-caption text-left text-sm-right\">\r\n                        (*必填)\r\n                    </strong>\r\n                </div>\r\n\r\n                <v-text-field v-model=\"update_data['name']\" background-color=\"white\" outlined label=\"請填寫代號\"\r\n                    :rules=\"[rules['requiredRules']]\" placeholder=\"填寫範例: teacher\">\r\n                </v-text-field>\r\n            </v-col>\r\n            <!-- #endregion -->\r\n\r\n\r\n            <!-- #region (名稱) -->\r\n            <v-col cols=\"12\" md=\"6\" class=\"d-flex flex-column gap-2\">\r\n                <div class=\"label-container font-weight-bold text-subtitle-1\">\r\n                    角色名稱:\r\n                    <strong class=\"red--text font-weight-bold text-caption text-left text-sm-right\">\r\n                        (*必填)\r\n                    </strong>\r\n                </div>\r\n\r\n                <v-text-field v-model=\"update_data['name_zh']\" background-color=\"white\" outlined label=\"請填寫名稱\"\r\n                    :rules=\"[rules['requiredRules']]\" placeholder=\"填寫範例: 老師\">\r\n                </v-text-field>\r\n            </v-col>\r\n            <!-- #endregion -->\r\n\r\n\r\n            <!-- #region (角色權限選擇) -->\r\n            <v-col cols=\"12\" class=\"d-flex flex-column gap-2\">\r\n                <div class=\"label-container font-weight-bold text-subtitle-1\">\r\n                    權限選擇:\r\n                </div>\r\n                <PermissionTreeList \r\n                    v-model=\"update_data['permissions']\"\r\n                />\r\n            </v-col>\r\n            <!-- #endregion -->\r\n\r\n            <v-col cols=\"12\" class=\"d-flex align-center justify-center gap-4\">\r\n                <v-btn color=\"primary darken-2\" type=\"submit\" class=\"font-weight-bold white--text\" width=\"150\" height=\"50\">\r\n                    儲存\r\n                </v-btn>\r\n            </v-col>\r\n        </v-row>\r\n\r\n    </v-form>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { GroupProfileService } from '@/api/services'\r\nimport PermissionTreeList from '../../Permission/PermissionCheckedList.vue';\r\nimport { rules } from '@/utils';\r\nimport permissions from '@/api/services/permissions';\r\nexport default {\r\n    name: \"UpdateGroupForm\",\r\n    components: {\r\n        PermissionTreeList\r\n    },\r\n    props: ['id'],\r\n    data() {\r\n\r\n        return {\r\n            loading: true,\r\n            update_data: {},\r\n            updateFormValid: false, // 是否符合規則\r\n            rules: rules\r\n        }\r\n    },\r\n\r\n    watch: {\r\n        id: {\r\n            immediate: true,\r\n            handler(newVal){\r\n                if(newVal){\r\n                    this.fetchData()\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        async fetchData() {\r\n            try {\r\n                const response = await GroupProfileService.get_by_id(this.id)\r\n                if (response.status === 200) {\r\n                    const Group = response.data\r\n                    this.update_data = {\r\n                        name: Group['name'],\r\n                        name_zh: Group['name_zh'],\r\n                        permissions: Group['permissions'].map(permission => permission['id'])   \r\n                    }\r\n                }\r\n            }\r\n            catch (err) {\r\n                console.error(err);\r\n            }\r\n            finally {\r\n                this.loading = false\r\n            }\r\n        },\r\n\r\n\r\n        async update() {\r\n            this.$refs.form.validate()\r\n            if (!this.updateFormValid) {\r\n                this.$swal.fire(\"請確實填寫內容\", \"\", \"error\")\r\n                return\r\n            }\r\n\r\n            try {\r\n                const formData = new FormData()\r\n                for (const [key, value] of Object.entries(this.update_data)) {\r\n                    if (value !== null && value !== undefined) {\r\n                        formData.append(key, value)\r\n                    }\r\n                }\r\n                const response = await GroupProfileService.update(this.id, formData)\r\n                if (response.status === 200) {\r\n                    this.$swal.fire(\"儲存成功\", \"\", \"success\")\r\n                    this.$emit(\"refresh\")\r\n                }\r\n                else {\r\n                    this.$swal.fire(\"儲存失敗\", \"\", \"error\")\r\n                }\r\n            }\r\n            catch (err) {\r\n                console.error(err);\r\n            }\r\n        },\r\n\r\n\r\n\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\ndiv.label-container {\r\n    min-width: 150px;\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UpdateGroupForm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UpdateGroupForm.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UpdateGroupForm.vue?vue&type=template&id=93638e7c&scoped=true\"\nimport script from \"./UpdateGroupForm.vue?vue&type=script&lang=js\"\nexport * from \"./UpdateGroupForm.vue?vue&type=script&lang=js\"\nimport style0 from \"./UpdateGroupForm.vue?vue&type=style&index=0&id=93638e7c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"93638e7c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <v-container fluid>\r\n    <v-row>\r\n      <!-- 表格區域 -->\r\n      <v-col cols=\"12\">\r\n        <CustomDataTable\r\n          :items=\"items\"\r\n          :itemsLength=\"itemsLength\"\r\n          :options=\"options\"\r\n          :headers=\"headers\"\r\n          height=\"100%\"\r\n          :loading=\"loading\"\r\n          :disabled_select=\"disabled_select\"\r\n          :fixed-header=\"false\"\r\n          @emitUpdateOptions=\"emitUpdateOptions\"\r\n          @create=\"emitCreate\"\r\n          @read=\"emitRead\"\r\n          @update=\"emitUpdate\"\r\n          @delete=\"emitDelete\"\r\n          show-expand\r\n        >\r\n        </CustomDataTable>\r\n      </v-col>\r\n    </v-row>\r\n\r\n    <!-- Create -->\r\n    <CustomDialog\r\n      v-model=\"create_dialog\"\r\n      title=\"新增角色\"\r\n      color=\"pink darken-2\"\r\n    >\r\n      <template v-slot:body>\r\n        <CreateGroupForm v-if=\"create_dialog\" @refresh=\"refreshData\" />\r\n      </template>\r\n    </CustomDialog>\r\n\r\n    <!-- Read -->\r\n    <CustomDialog v-model=\"read_dialog\" title=\"瀏覽角色\" color=\"grey darken-2\">\r\n      <template v-slot:body>\r\n        <ReadGroupForm v-if=\"read_dialog\" :id=\"read_id\" />\r\n      </template>\r\n    </CustomDialog>\r\n\r\n    <!-- Update -->\r\n    <CustomDialog\r\n      v-model=\"update_dialog\"\r\n      title=\"修改角色\"\r\n      color=\"primary darken-2\"\r\n    >\r\n      <template v-slot:body>\r\n        <UpdateGroupForm v-if=\"update_dialog\" :id=\"update_id\" @refresh=\"refreshData\" />\r\n      </template>\r\n    </CustomDialog>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { GroupService, GroupProfileService } from \"@/api/services\";\r\nimport {\r\n  get_api_pagniation_query_parameter,\r\n  showConfirmDelete,\r\n  showDeleteWarning,\r\n} from \"@/utils\";\r\nimport CustomDataTable from \"@/components/utils/Table/CustomDataTable.vue\";\r\nimport CustomDialog from \"@/components/utils/CustomDialog.vue\";\r\nimport CreateGroupForm from \"@/components/Admin/Group/Form/CreateGroupForm.vue\";\r\nimport ReadGroupForm from \"@/components/Admin/Group/Form/ReadGroupForm.vue\";\r\nimport UpdateGroupForm from \"@/components/Admin/Group/Form/UpdateGroupForm.vue\";\r\nexport default {\r\n  components: {\r\n    CustomDataTable,\r\n    CustomDialog,\r\n    CreateGroupForm,\r\n    ReadGroupForm,\r\n    UpdateGroupForm,\r\n  },\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n\r\n      //#region (API擷取)\r\n      loading: true,\r\n      items: [],\r\n      itemsLength: 0, // 資料長度\r\n      //#endregion\r\n\r\n      //#region (表格)\r\n      // 欄位顯示\r\n      disabled_select: [\"title\"], // 不給選的 (text)\r\n\r\n      options: {\r\n        // 表格設定\r\n        page: 1, // 當前頁數\r\n        itemsPerPage: 30, // 單頁筆數: -1: 代表全部顯示\r\n        sortBy: [\"id\"], // 排序\r\n        sortDesc: [false], // 排序狀態\r\n      },\r\n      headers: [\r\n        // 欄位設定\r\n        { text: \"id\", value: \"id\", sortable: true },\r\n        { text: \"操作\", value: \"actions\", sortable: true },\r\n        { text: \"角色名稱\", value: \"name_zh\", sortable: true },\r\n        { text: \"角色代號\", value: \"name\", sortable: true },\r\n      ],\r\n      //#endregion\r\n\r\n      //#region (Dialog)\r\n      create_dialog: false,\r\n      read_dialog: false,\r\n      update_dialog: false,\r\n      read_id: null, // 要修改的數據ID\r\n      update_id: null, // 要修改的數據ID\r\n      //#endregion\r\n    };\r\n  },\r\n\r\n  computed: {\r\n  },\r\n\r\n  async mounted() {\r\n    await this.fetchData();\r\n  },\r\n\r\n  methods: {\r\n    //#region (API擷取)\r\n    async fetchData() {\r\n      this.loading = true;\r\n      try {\r\n        // 得到Pagination必要的parameter\r\n        const params = get_api_pagniation_query_parameter(this.options);\r\n        const response = await GroupService.get_all_group_with_profiles(params);\r\n        if (response.status === 200) {\r\n          const { data, count } = response.data;\r\n          this.items = data;\r\n          this.itemsLength = count;\r\n        }\r\n      } catch (err) {\r\n        console.error(err);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    //#endregion\r\n\r\n    \r\n    // 更新option並且重新呼叫API\r\n    emitUpdateOptions(options) {\r\n      this.options = options;\r\n      this.fetchData();\r\n    },\r\n\r\n\r\n    //#region ($emit)\r\n    async refreshData(){\r\n      // 重新讀取資料\r\n      await this.fetchData()\r\n      this.create_dialog = false\r\n      this.update_dialog = false\r\n    },\r\n    \r\n    emitCreate(){\r\n      this.create_dialog = true\r\n    },\r\n    emitRead(id){\r\n      this.read_id = id\r\n      this.read_dialog = true\r\n    },\r\n    emitUpdate(id){\r\n      this.update_id = id\r\n      this.update_dialog = true\r\n    },\r\n    async emitDelete(id){\r\n        const first_response = await showDeleteWarning() // 第一次提醒Alert\r\n        if(first_response.isConfirmed){ // 點擊確定\r\n          const is_confirm = await showConfirmDelete() // 最後一次確定的 alert\r\n          if(is_confirm){ // 最後一次依舊確定\r\n            try{ // 進行刪除\r\n                const response = await GroupProfileService.delete(id)\r\n                if(response.status === 204){\r\n                    this.$swal.fire('刪除成功', '', 'success')\r\n                    await this.fetchData() // 重新讀取資料\r\n                }\r\n            }\r\n            catch(err){\r\n                this.$swal.fire('刪除失敗', err, 'error')\r\n            }\r\n          }\r\n        }\r\n    },\r\n    //#endregion\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GroupList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GroupList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./GroupList.vue?vue&type=template&id=26237264&scoped=true\"\nimport script from \"./GroupList.vue?vue&type=script&lang=js\"\nexport * from \"./GroupList.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26237264\",\n  null\n  \n)\n\nexport default component.exports"],"names":["attrs","_c","loading","emitCreate","emitDelete","scopedSlots","key","fn","_vm","value","callback","expression","staticRenderFns","$event","create","model","createFormValid","$$v","staticClass","_v","create_data","$set","name","components","data","rules","computed","mounted","methods","$refs","form","validate","formData","FormData","Object","entries","undefined","append","response","GroupProfileService","status","$swal","fire","$emit","err","console","error","component","read_data","headers","tree_permissions","header","class","is_checked_column","emitEvent","props","type","Array","default","readonly","Boolean","permissions","permission_checked","text","watch","immediate","handler","newVal","fetchPermission","params","URLSearchParams","page_size","PermissionService","get_all","count","getTreePermission","e","log","includes","filter","item","permission","content_type_name","action","id","PermissionTreeList","name_zh","fetchData","get_by_id","map","update","updateFormValid","update_data","Group","CustomDataTable","CustomDialog","CreateGroupForm","ReadGroupForm","UpdateGroupForm","dialog","items","itemsLength","disabled_select","options","page","itemsPerPage","sortBy","sortDesc","sortable","create_dialog","read_dialog","update_dialog","read_id","update_id","get_api_pagniation_query_parameter","GroupService","get_all_group_with_profiles","emitUpdateOptions","refreshData","emitRead","emitUpdate","first_response","showDeleteWarning","isConfirmed","is_confirm","showConfirmDelete","delete","render"],"sourceRoot":""}