"use strict";(self["webpackChunkdeploy_vue_project"]=self["webpackChunkdeploy_vue_project"]||[]).push([[757],{5757:function(e,t,i){i.r(t),i.d(t,{default:function(){return $e}});var a=i(4414),s=i(3449),n=i(2756),l=function(){var e=this,t=e._self._c;return t(s.A,{attrs:{fluid:""}},[t(n.A,[t(a.A,{attrs:{cols:"12"}},[t("CustomDataTable",{attrs:{items:e.items,itemsLength:e.itemsLength,options:e.options,headers:e.headers,loading:e.loading,height:"100%",disabled_select:e.disabled_select,"fixed-header":!1,"show-expand":""},on:{emitUpdateOptions:e.emitUpdateOptions,create:e.emitCreate},scopedSlots:e._u([{key:"item",fn:function({item:i,headers:a,expand:s,isExpanded:n}){return[t("MenuTableItem",{class:{"purple lighten-5":n},attrs:{item:i,headers:a,expand:s,isExpanded:n,actions_buttons:e.actions_buttons}})]}},{key:"expanded-item",fn:function({headers:i,item:a}){return[t("td",{attrs:{colspan:i.length}},[t("MenuRecursiveTable",{attrs:{items:a["children"],headers:i,loading:e.loading,"hide-default-header":"",actions_buttons:e.actions_buttons,depth:e.depth+1}})],1)]}}])})],1)],1),t("CustomDialog",{attrs:{title:"新增菜單",color:"pink darken-2"},scopedSlots:e._u([{key:"body",fn:function(){return[e.create_dialog?t("CreateMenuForm",{on:{refresh:e.refreshData}}):e._e()]},proxy:!0}]),model:{value:e.create_dialog,callback:function(t){e.create_dialog=t},expression:"create_dialog"}}),t("CustomDialog",{attrs:{title:"瀏覽菜單",color:"grey darken-2"},scopedSlots:e._u([{key:"body",fn:function(){return[e.read_dialog?t("ReadMenuForm",{attrs:{id:e.read_id}}):e._e()]},proxy:!0}]),model:{value:e.read_dialog,callback:function(t){e.read_dialog=t},expression:"read_dialog"}}),t("CustomDialog",{attrs:{title:"修改菜單",color:"primary darken-2"},scopedSlots:e._u([{key:"body",fn:function(){return[e.update_dialog?t("UpdateMenuForm",{attrs:{id:e.update_id},on:{refresh:e.refreshData}}):e._e()]},proxy:!0}]),model:{value:e.update_dialog,callback:function(t){e.update_dialog=t},expression:"update_dialog"}})],1)},o=[],r=i(9534),d=i(6989),c=i(1651),h=i(7392),u=i(4112),p=i(3740),m=i(3180),f=i(6930),v=i(7270),_=function(){var e=this,t=e._self._c;return t("tr",{class:{"expanded-row":e.item["parent"]&&!e.isExpanded}},[e._l(e.headers,(function(i){return["data-table-expand"===i["value"]?t("td",{key:i["value"],staticClass:"data-table-expand-column"},[t(p.A,{attrs:{icon:"",disabled:!e.checkHasChildren(e.item),color:e.isExpanded?"purple":e.checkHasChildren(e.item)?"primary":""},on:{click:function(t){return e.expand(!e.isExpanded)}}},[t(f.A,[e._v(e._s(e.isExpanded?"mdi-arrow-up-drop-circle":"mdi-arrow-down-drop-circle"))])],1)],1):"title"===i["value"]?t("td",{key:i["value"],staticClass:"title-column",class:`column-depth-${e.depth}-padding`},[e._v(" "+e._s(e.item["title"])+" ")]):"actions"===i["value"]?t("td",{key:i["value"],staticClass:"py-4 actions-column"},[t("div",{staticClass:"d-flex"},[e._l(e.actions_buttons,(function(i){return[t(v.A,{key:i["title"],attrs:{bottom:"",color:i["tooltip_color"]},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(p.A,e._g(e._b({staticClass:"mx-1",attrs:{fab:"","x-small":"",color:i["btn_color"]},on:{click:function(t){return i.onClick(e.item["id"])}}},"v-btn",s,!1),a),[t(f.A,{attrs:{small:"",color:i["icon_color"]}},[e._v(e._s(i["icon"]))])],1)]}}],null,!0)},[t("span",{staticClass:"black--text font-weight-bold"},[e._v(e._s(i["title"]))])])]}))],2)]):"icon"===i["value"]?t("td",{key:i["value"],staticClass:"icon-column"},[t(f.A,[e._v(e._s(e.item["icon"]))])],1):"priority"===i["value"]?t("td",{key:i["value"],staticClass:"priority-column"},[t(u.A,{staticClass:"font-weight-bold white--text",attrs:{size:"24",color:e.depth_priority_color[e.depth]}},[e._v(e._s(e.item["priority"]))])],1):"path"===i["value"]?t("td",{key:i["value"],staticClass:"path-column"},[e._v(" "+e._s(e.item[i.value])+" ")]):"component"===i["value"]?t("td",{key:i["value"],staticClass:"component-column"},[e._v(" "+e._s(e.item[i.value])+" ")]):"name"===i["value"]?t("td",{key:i["value"],staticClass:"name-column"},[e._v(" "+e._s(e.item[i.value])+" ")]):"redirect"===i["value"]?t("td",{key:i["value"],staticClass:"redirect-column"},[e._v(" "+e._s(e.item[i.value])+" ")]):"is_menu"===i["value"]?t("td",{key:i["value"],staticClass:"is_menu-column"},[t(m.A,{staticClass:"font-weight-bold elevation-2",attrs:{label:"",small:"",color:e.get_is_menu_style(e.item[i.value],"color")}},[e._v(" "+e._s(e.get_is_menu_style(e.item[i.value],"text"))+" ")])],1):"is_disabled"===i["value"]?t("td",{key:i["value"],staticClass:"is_disabled-column"},[t(m.A,{staticClass:"black--text font-weight-bold elevation-2",attrs:{label:"",small:"",color:e.get_is_disabled_style(e.item[i.value],"color")}},[t(f.A,{attrs:{color:e.get_is_disabled_style(e.item[i.value],"icon_color"),"x-small":"",left:""}},[e._v(" mdi-circle ")]),e._v(" "+e._s(e.get_is_disabled_style(e.item[i.value],"text"))+" ")],1)],1):t("td",{key:`${i["value"]}-1`,staticClass:"other-column"},[e._v(" "+e._s(e.item[i.value])+" ")])]}))],2)},g=[],b=i(5471);const x={name:"MenuTableItem",props:{item:{type:Object,default:()=>{}},headers:{type:Array,default:()=>[]},expand:{type:Function,default:void 0},isExpanded:{type:Boolean,default:!1},depth:{type:Number,default:1},actions_buttons:{type:Array,required:()=>[]}},data(){return{depth_priority_color:{1:"#80268C",2:"#B33F00",3:"#006663",4:"#3B3B98",5:"#5C8C46"}}},methods:{checkHasChildren(e){return e["children"]&&e["children"].length>0},get_is_menu_style(e,t="color"){const i={true:{text:"是",color:"primary"},false:{text:"否",color:"error"}};return i[e][t]},get_is_disabled_style(e,t="color"){const i={true:{text:"停用",color:"error lighten-4",icon_color:"error darken-1"},false:{text:"啟動",color:"success lighten-4",icon_color:"success darken-1"}};return i[e][t]}}},y=()=>{(0,b.$9)(((e,t)=>({b623ec5e:e.depth_priority_color[e.depth]})))},C=x.setup;x.setup=C?(e,t)=>(y(),C(e,t)):y;var w=x,A=w,k=i(1656),S=(0,k.A)(A,_,g,!1,null,"67c45140",null),$=S.exports,O=i(3064),I=function(){var e=this,t=e._self._c;return t(O.A,{staticClass:"data-table",attrs:{loading:e.loading,headers:e.headers,items:e.items,expanded:e.expanded,"item-key":"id","single-expand":"","show-expand":"","hide-default-header":e.hideDefaultHeader,"hide-default-footer":""},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"item",fn:function({item:i,headers:a,expand:s,isExpanded:n}){return[t("MenuTableItem",{class:{"purple lighten-5":n},attrs:{item:i,headers:a,expand:s,isExpanded:n,depth:e.depth,actions_buttons:e.actions_buttons}})]}},{key:"expanded-item",fn:function({headers:i,item:a}){return[t("td",{attrs:{colspan:i.length}},[a["children"]&&a["children"].length>0?t("MenuRecursiveTable",{attrs:{items:a["children"],headers:i,loading:e.loading,"hide-default-header":"",actions_buttons:e.actions_buttons,depth:e.depth+1}}):e._e()],1)]}}])})},D=[],P={name:"MenuRecursiveTable",props:{loading:{type:Boolean,default:!0},items:{type:Array,default:()=>[]},headers:{type:Array,default:()=>[]},hideDefaultHeader:{type:Boolean,default:!1},depth:{type:Number,default:1},actions_buttons:{type:Array,required:()=>[]}},components:{MenuTableItem:$},data(){return{expanded:[]}}},T=P,E=(0,k.A)(T,I,D,!1,null,"296038a8",null),M=E.exports,L=i(3e3),B=i(7112),F=function(){var e=this,t=e._self._c;return t(n.A,{staticClass:"justify-start"},[t(a.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 菜單標題: ")]),t(B.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫標題",readonly:"",placeholder:"填寫範例: 菜單標題"},model:{value:e.read_data["title"],callback:function(t){e.$set(e.read_data,"title",t)},expression:"read_data['title']"}})],1),t(a.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 菜單路徑: ")]),t(B.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫路徑",readonly:"",placeholder:"填寫範例: /path"},model:{value:e.read_data["path"],callback:function(t){e.$set(e.read_data,"path",t)},expression:"read_data['path']"}})],1),t(a.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 組件名稱: ")]),t(B.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫組件名稱",readonly:"",placeholder:"填寫範例: PathName"},model:{value:e.read_data["name"],callback:function(t){e.$set(e.read_data,"name",t)},expression:"read_data['name']"}})],1),t(a.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 組件路徑: ")]),t(B.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫組件路徑",readonly:"",placeholder:"填寫範例: Path/PathName"},model:{value:e.read_data["component"],callback:function(t){e.$set(e.read_data,"component",t)},expression:"read_data['component']"}})],1),t(a.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 菜單圖案: ")]),t(B.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫菜單圖案路徑",readonly:"",placeholder:"填寫範例: mdi-home"},scopedSlots:e._u([{key:"append",fn:function(){return[t(f.A,{attrs:{color:"primary"}},[e._v(e._s(e.read_data["icon"]))])]},proxy:!0}]),model:{value:e.read_data["icon"],callback:function(t){e.$set(e.read_data,"icon",t)},expression:"read_data['icon']"}})],1),t(a.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 跳轉路徑: ")]),t(B.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫跳轉路徑路徑",readonly:"",placeholder:"填寫範例: /redirect-path"},model:{value:e.read_data["redirect"],callback:function(t){e.$set(e.read_data,"redirect",t)},expression:"read_data['redirect']"}})],1),t(a.A,{attrs:{cols:"12"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 父親菜單: ")]),t("SelectParentMenu",{attrs:{readonly:""},model:{value:e.read_data["parent"],callback:function(t){e.$set(e.read_data,"parent",t)},expression:"read_data['parent']"}})],1),t(a.A,{staticClass:"d-flex flex-wrap align-center gap-4",attrs:{cols:"4"}},[t("span",{staticClass:"font-weight-bold text-subtitle-1"},[e._v(" 顯示順序： ")]),t(B.A,{staticStyle:{"max-width":"150px"},attrs:{type:"number","input-mode":"tel","background-color":"white",outlined:"",label:"請填寫跳轉路徑路徑",readonly:"","hide-details":""},model:{value:e.read_data["priority"],callback:function(t){e.$set(e.read_data,"priority",e._n(t))},expression:"read_data['priority']"}})],1),t(a.A,{staticClass:"d-flex flex-wrap align-center gap-4",attrs:{cols:"3"}},[t("div",{staticClass:"font-weight-bold text-subtitle-1"},[e._v(" 菜單： ")]),t(L.A,{staticClass:"w-max-content",attrs:{readonly:"",inset:"",color:"primary"},model:{value:e.read_data["is_menu"],callback:function(t){e.$set(e.read_data,"is_menu",t)},expression:"read_data['is_menu']"}})],1),t(a.A,{staticClass:"d-flex flex-wrap align-center gap-4",attrs:{cols:"3"}},[t("div",{staticClass:"font-weight-bold text-subtitle-1"},[e._v(" 停用狀態： ")]),t(L.A,{staticClass:"w-max-content",attrs:{readonly:"",inset:"",color:"primary"},model:{value:e.read_data["is_disabled"],callback:function(t){e.$set(e.read_data,"is_disabled",t)},expression:"read_data['is_disabled']"}})],1)],1)},j=[],N=i(1484),K=i(6237),R=(i(4114),i(3375),i(9225),i(3972),i(9209),i(5714),i(7561),i(6197),i(5961)),V=i(7540),q=i(8743),z=i(5803),U=i(4152);const W=(0,z.A)(q.A,(0,V.W)("treeview")),H={activatable:Boolean,activeClass:{type:String,default:"v-treeview-node--active"},color:{type:String,default:"primary"},disablePerNode:Boolean,expandIcon:{type:String,default:"$subgroup"},indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},itemChildren:{type:String,default:"children"},itemDisabled:{type:String,default:"disabled"},itemKey:{type:String,default:"id"},itemText:{type:String,default:"name"},loadChildren:Function,loadingIcon:{type:String,default:"$loading"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"},openOnClick:Boolean,rounded:Boolean,selectable:Boolean,selectedColor:{type:String,default:"accent"},shaped:Boolean,transition:Boolean,selectionType:{type:String,default:"leaf",validator:e=>["leaf","independent"].includes(e)}},Q=W.extend().extend({name:"v-treeview-node",inject:{treeview:{default:null}},props:{level:Number,item:{type:Object,default:()=>null},parentIsDisabled:Boolean,...H},data:()=>({hasLoaded:!1,isActive:!1,isIndeterminate:!1,isLoading:!1,isOpen:!1,isSelected:!1}),computed:{disabled(){return(0,U.no)(this.item,this.itemDisabled)||!this.disablePerNode&&this.parentIsDisabled&&"leaf"===this.selectionType},key(){return(0,U.no)(this.item,this.itemKey)},children(){const e=(0,U.no)(this.item,this.itemChildren);return e&&e.filter((e=>!this.treeview.isExcluded((0,U.no)(e,this.itemKey))))},text(){return(0,U.no)(this.item,this.itemText)},scopedProps(){return{item:this.item,leaf:!this.children,selected:this.isSelected,indeterminate:this.isIndeterminate,active:this.isActive,open:this.isOpen}},computedIcon(){return this.isIndeterminate?this.indeterminateIcon:this.isSelected?this.onIcon:this.offIcon},hasChildren(){return!!this.children&&(!!this.children.length||!!this.loadChildren)}},created(){this.treeview.register(this)},beforeDestroy(){this.treeview.unregister(this)},methods:{checkChildren(){return new Promise((e=>{if(!this.children||this.children.length||!this.loadChildren||this.hasLoaded)return e();this.isLoading=!0,e(this.loadChildren(this.item))})).then((()=>{this.isLoading=!1,this.hasLoaded=!0}))},open(){this.isOpen=!this.isOpen,this.treeview.updateOpen(this.key,this.isOpen),this.treeview.emitOpen()},genLabel(){const e=[];return this.$scopedSlots.label?e.push(this.$scopedSlots.label(this.scopedProps)):e.push(this.text),this.$createElement("div",{slot:"label",staticClass:"v-treeview-node__label"},e)},genPrependSlot(){return this.$scopedSlots.prepend?this.$createElement("div",{staticClass:"v-treeview-node__prepend"},this.$scopedSlots.prepend(this.scopedProps)):null},genAppendSlot(){return this.$scopedSlots.append?this.$createElement("div",{staticClass:"v-treeview-node__append"},this.$scopedSlots.append(this.scopedProps)):null},genContent(){const e=[this.genPrependSlot(),this.genLabel(),this.genAppendSlot()];return this.$createElement("div",{staticClass:"v-treeview-node__content"},e)},genToggle(){return this.$createElement(f.A,{staticClass:"v-treeview-node__toggle",class:{"v-treeview-node__toggle--open":this.isOpen,"v-treeview-node__toggle--loading":this.isLoading},slot:"prepend",on:{click:e=>{e.stopPropagation(),this.isLoading||this.checkChildren().then((()=>this.open()))}}},[this.isLoading?this.loadingIcon:this.expandIcon])},genCheckbox(){return this.$createElement(f.A,{staticClass:"v-treeview-node__checkbox",props:{color:this.isSelected||this.isIndeterminate?this.selectedColor:void 0,disabled:this.disabled},on:{click:e=>{e.stopPropagation(),this.isLoading||this.checkChildren().then((()=>{this.$nextTick((()=>{this.isSelected=!this.isSelected,this.isIndeterminate=!1,this.treeview.updateSelected(this.key,this.isSelected),this.treeview.emitSelected()}))}))}}},[this.computedIcon])},genLevel(e){return(0,U.Sd)(e).map((()=>this.$createElement("div",{staticClass:"v-treeview-node__level"})))},genNode(){const e=[this.genContent()];return this.selectable&&e.unshift(this.genCheckbox()),this.hasChildren?e.unshift(this.genToggle()):e.unshift(...this.genLevel(1)),e.unshift(...this.genLevel(this.level)),this.$createElement("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-treeview-node__root",class:{[this.activeClass]:this.isActive},on:{click:()=>{this.openOnClick&&this.hasChildren?this.checkChildren().then(this.open):this.activatable&&!this.disabled&&(this.isActive=!this.isActive,this.treeview.updateActive(this.key,this.isActive),this.treeview.emitActive())}}}),e)},genChild(e,t){return this.$createElement(Q,{key:(0,U.no)(e,this.itemKey),props:{activatable:this.activatable,activeClass:this.activeClass,item:e,selectable:this.selectable,selectedColor:this.selectedColor,color:this.color,disablePerNode:this.disablePerNode,expandIcon:this.expandIcon,indeterminateIcon:this.indeterminateIcon,offIcon:this.offIcon,onIcon:this.onIcon,loadingIcon:this.loadingIcon,itemKey:this.itemKey,itemText:this.itemText,itemDisabled:this.itemDisabled,itemChildren:this.itemChildren,loadChildren:this.loadChildren,transition:this.transition,openOnClick:this.openOnClick,rounded:this.rounded,shaped:this.shaped,level:this.level+1,selectionType:this.selectionType,parentIsDisabled:t},scopedSlots:this.$scopedSlots})},genChildrenWrapper(){if(!this.isOpen||!this.children)return null;const e=[this.children.map((e=>this.genChild(e,this.disabled)))];return this.$createElement("div",{staticClass:"v-treeview-node__children"},e)},genTransition(){return this.$createElement(R.Qo,[this.genChildrenWrapper()])}},render(e){const t=[this.genNode()];return this.transition?t.push(this.genTransition()):t.push(this.genChildrenWrapper()),e("div",{staticClass:"v-treeview-node",class:{"v-treeview-node--leaf":!this.hasChildren,"v-treeview-node--click":this.openOnClick,"v-treeview-node--disabled":this.disabled,"v-treeview-node--rounded":this.rounded,"v-treeview-node--shaped":this.shaped,"v-treeview-node--selected":this.isSelected},attrs:{"aria-expanded":String(this.isOpen)}},t)}});var Z=Q,G=i(3381),J=i(6988);function X(e,t,i){const a=(0,U.no)(e,i);return a.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1}function Y(e,t,i,a,s,n,l){if(e(t,i,s))return!0;const o=(0,U.no)(t,n);if(o){let t=!1;for(let r=0;r<o.length;r++)Y(e,o[r],i,a,s,n,l)&&(t=!0);if(t)return!0}return l.add((0,U.no)(t,a)),!1}var ee=(0,z.A)((0,V.G)("treeview"),G.A).extend({name:"v-treeview",provide(){return{treeview:this}},props:{active:{type:Array,default:()=>[]},dense:Boolean,disabled:Boolean,filter:Function,hoverable:Boolean,items:{type:Array,default:()=>[]},multipleActive:Boolean,open:{type:Array,default:()=>[]},openAll:Boolean,returnObject:{type:Boolean,default:!1},search:String,value:{type:Array,default:()=>[]},...H},data:()=>({level:-1,activeCache:new Set,nodes:{},openCache:new Set,selectedCache:new Set}),computed:{excludedItems(){const e=new Set;if(!this.search)return e;for(let t=0;t<this.items.length;t++)Y(this.filter||X,this.items[t],this.search,this.itemKey,this.itemText,this.itemChildren,e);return e}},watch:{items:{handler(){const e=Object.keys(this.nodes).map((e=>(0,U.no)(this.nodes[e].item,this.itemKey))),t=this.getKeys(this.items),i=(0,U.ZQ)(t,e);if(!i.length&&t.length<e.length)return;i.forEach((e=>delete this.nodes[e]));const a=[...this.selectedCache];this.selectedCache=new Set,this.activeCache=new Set,this.openCache=new Set,this.buildTree(this.items),(0,U.bD)(a,[...this.selectedCache])||this.emitSelected()},deep:!0},active(e){this.handleNodeCacheWatcher(e,this.activeCache,this.updateActive,this.emitActive)},value(e){this.handleNodeCacheWatcher(e,this.selectedCache,this.updateSelected,this.emitSelected)},open(e){this.handleNodeCacheWatcher(e,this.openCache,this.updateOpen,this.emitOpen)}},created(){const e=e=>this.returnObject?(0,U.no)(e,this.itemKey):e;this.buildTree(this.items);for(const t of this.value.map(e))this.updateSelected(t,!0,!0);for(const t of this.active.map(e))this.updateActive(t,!0)},mounted(){(this.$slots.prepend||this.$slots.append)&&(0,J.OP)("The prepend and append slots require a slot-scope attribute",this),this.openAll?this.updateAll(!0):(this.open.forEach((e=>this.updateOpen(this.returnObject?(0,U.no)(e,this.itemKey):e,!0))),this.emitOpen())},methods:{updateAll(e){Object.keys(this.nodes).forEach((t=>this.updateOpen((0,U.no)(this.nodes[t].item,this.itemKey),e))),this.emitOpen()},getKeys(e,t=[]){for(let i=0;i<e.length;i++){const a=(0,U.no)(e[i],this.itemKey);t.push(a);const s=(0,U.no)(e[i],this.itemChildren);s&&t.push(...this.getKeys(s))}return t},buildTree(e,t=null){var i;for(let a=0;a<e.length;a++){const s=e[a],n=(0,U.no)(s,this.itemKey),l=null!==(i=(0,U.no)(s,this.itemChildren))&&void 0!==i?i:[],o=this.nodes.hasOwnProperty(n)?this.nodes[n]:{isSelected:!1,isIndeterminate:!1,isActive:!1,isOpen:!1,vnode:null},r={vnode:o.vnode,parent:t,children:l.map((e=>(0,U.no)(e,this.itemKey))),item:s};if(this.buildTree(l,n),"independent"!==this.selectionType&&null!==t&&!this.nodes.hasOwnProperty(n)&&this.nodes.hasOwnProperty(t)?r.isSelected=this.nodes[t].isSelected:(r.isSelected=o.isSelected,r.isIndeterminate=o.isIndeterminate),r.isActive=o.isActive,r.isOpen=o.isOpen,this.nodes[n]=r,l.length&&"independent"!==this.selectionType){const{isSelected:e,isIndeterminate:t}=this.calculateState(n,this.nodes);r.isSelected=e,r.isIndeterminate=t}!this.nodes[n].isSelected||"independent"!==this.selectionType&&0!==r.children.length||this.selectedCache.add(n),this.nodes[n].isActive&&this.activeCache.add(n),this.nodes[n].isOpen&&this.openCache.add(n),this.updateVnodeState(n)}},calculateState(e,t){const i=t[e].children,a=i.reduce(((e,i)=>(e[0]+=+Boolean(t[i].isSelected),e[1]+=+Boolean(t[i].isIndeterminate),e)),[0,0]),s=!!i.length&&a[0]===i.length,n=!s&&(a[0]>0||a[1]>0);return{isSelected:s,isIndeterminate:n}},emitOpen(){this.emitNodeCache("update:open",this.openCache)},emitSelected(){this.emitNodeCache("input",this.selectedCache)},emitActive(){this.emitNodeCache("update:active",this.activeCache)},emitNodeCache(e,t){this.$emit(e,this.returnObject?[...t].map((e=>this.nodes[e].item)):[...t])},handleNodeCacheWatcher(e,t,i,a){e=this.returnObject?e.map((e=>(0,U.no)(e,this.itemKey))):e;const s=[...t];(0,U.bD)(s,e)||(s.forEach((e=>i(e,!1))),e.forEach((e=>i(e,!0))),a())},getDescendants(e,t=[]){const i=this.nodes[e].children;t.push(...i);for(let a=0;a<i.length;a++)t=this.getDescendants(i[a],t);return t},getParents(e){let t=this.nodes[e].parent;const i=[];while(null!==t)i.push(t),t=this.nodes[t].parent;return i},register(e){const t=(0,U.no)(e.item,this.itemKey);this.nodes[t].vnode=e,this.updateVnodeState(t)},unregister(e){const t=(0,U.no)(e.item,this.itemKey);this.nodes[t]&&(this.nodes[t].vnode=null)},isParent(e){return this.nodes[e].children&&this.nodes[e].children.length},updateActive(e,t){if(!this.nodes.hasOwnProperty(e))return;this.multipleActive||this.activeCache.forEach((e=>{this.nodes[e].isActive=!1,this.updateVnodeState(e),this.activeCache.delete(e)}));const i=this.nodes[e];i&&(t?this.activeCache.add(e):this.activeCache.delete(e),i.isActive=t,this.updateVnodeState(e))},updateSelected(e,t,i=!1){if(!this.nodes.hasOwnProperty(e))return;const a=new Map;if("independent"!==this.selectionType){for(const n of this.getDescendants(e))(0,U.no)(this.nodes[n].item,this.itemDisabled)&&!i||(this.nodes[n].isSelected=t,this.nodes[n].isIndeterminate=!1,a.set(n,t));const s=this.calculateState(e,this.nodes);this.nodes[e].isSelected=t,this.nodes[e].isIndeterminate=s.isIndeterminate,a.set(e,t);for(const t of this.getParents(e)){const e=this.calculateState(t,this.nodes);this.nodes[t].isSelected=e.isSelected,this.nodes[t].isIndeterminate=e.isIndeterminate,a.set(t,e.isSelected)}}else this.nodes[e].isSelected=t,this.nodes[e].isIndeterminate=!1,a.set(e,t);for(const[s,n]of a.entries())this.updateVnodeState(s),"leaf"===this.selectionType&&this.isParent(s)||(!0===n?this.selectedCache.add(s):this.selectedCache.delete(s))},updateOpen(e,t){if(!this.nodes.hasOwnProperty(e))return;const i=this.nodes[e],a=(0,U.no)(i.item,this.itemChildren);a&&!a.length&&i.vnode&&!i.vnode.hasLoaded?i.vnode.checkChildren().then((()=>this.updateOpen(e,t))):a&&a.length&&(i.isOpen=t,i.isOpen?this.openCache.add(e):this.openCache.delete(e),this.updateVnodeState(e))},updateVnodeState(e){const t=this.nodes[e];t&&t.vnode&&(t.vnode.isSelected=t.isSelected,t.vnode.isIndeterminate=t.isIndeterminate,t.vnode.isActive=t.isActive,t.vnode.isOpen=t.isOpen)},isExcluded(e){return!!this.search&&this.excludedItems.has(e)}},render(e){const t=this.items.length?this.items.filter((e=>!this.isExcluded((0,U.no)(e,this.itemKey)))).map((e=>{const t=Z.options.methods.genChild.bind(this);return t(e,this.disabled||(0,U.no)(e,this.itemDisabled))})):this.$slots.default;return e("div",{staticClass:"v-treeview",class:{"v-treeview--hoverable":this.hoverable,"v-treeview--dense":this.dense,...this.themeClasses}},t)}}),te=function(){var e=this,t=e._self._c;return t(K.A,{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-y":"",transition:"scale-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:a}){return[t(B.A,e._g(e._b({staticClass:"white",staticStyle:{"max-width":"250px"},attrs:{value:e.selected?.title,outlined:"",label:"選擇父親菜單","hide-details":"",readonly:""}},"v-text-field",a,!1),i))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[t(N.A,[t(ee,{attrs:{items:e.items,active:e.active,open:e.open_items,"max-width":"250",hoverable:"",activatable:"","item-key":"id","item-text":"title","item-children":"children",readonly:e.readonly,"return-object":""},on:{"update:active":e.updateActive},scopedSlots:e._u([{key:"prepend",fn:function({item:i,open:a}){return[t(f.A,[e._v(" "+e._s(a?"mdi-folder-open":"mdi-folder")+" ")])]}}])})],1)],1)},ie=[],ae=(i(4603),i(7566),i(8721),{name:"SelectParentMenu",props:{value:{type:String,default:void 0},readonly:{type:Boolean,default:!1}},data(){return{menu:!1,loading:!0,items:[]}},async mounted(){this.fetchData()},computed:{flatted_items(){return this.flattenTree(this.items)},active(){return this.flatted_items.filter((e=>e["id"]===this.value))},open_items(){const e=this.selected?.parent;return this.flatted_items.filter((t=>t["id"]===e||t["children"].some((t=>t["id"]===e))))},selected(){return this.active[0]}},methods:{async fetchData(){this.loading=!0;try{const e=new URLSearchParams({no_page:!0,include_children:!0,is_children:!1}),t=await r.$1.get_all(e);200===t.status&&(this.items=t.data)}catch(e){console.error(e)}finally{this.loading=!1}},flattenTree(e){let t=[];return e.forEach((e=>{t.push(e),e.children&&e.children.length>0&&(t=t.concat(this.flattenTree(e.children)))})),t},updateActive(e){const t=e[0];this.$emit("select",t?.id)}}}),se=ae,ne=(0,k.A)(se,te,ie,!1,null,null,null),le=ne.exports,oe={name:"ReadMenuForm",components:{SelectParentMenu:le},props:["id"],data(){return{loading:!0,read_data:{title:null,path:null,name:null,component:null,is_menu:null,is_disabled:null,redirect:null,priority:null,parent:null}}},watch:{id:{immediate:!0,handler(e){e&&this.fetchData()}}},methods:{async fetchData(){try{const e=await r.$1.get_by_id(this.id);if(200===e.status){const t=e.data;this.read_data={title:t["title"],path:t["path"],name:t["name"],component:t["component"],is_menu:t["is_menu"],is_disabled:t["is_disabled"],redirect:t["redirect"],priority:t["priority"],icon:t["icon"],parent:t["parent"]}}}catch(e){console.error(e)}finally{this.loading=!1}}}},re=oe,de=(0,k.A)(re,F,j,!1,null,"591c72b1",null),ce=de.exports,he=i(174),ue=function(){var e=this,t=e._self._c;return t(he.A,{ref:"form",on:{submit:function(t){return t.preventDefault(),e.create.apply(null,arguments)}},model:{value:e.createFormValid,callback:function(t){e.createFormValid=t},expression:"createFormValid"}},[t(n.A,{staticClass:"justify-start"},[t(a.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 菜單標題: "),t("strong",{staticClass:"red--text font-weight-bold text-caption text-left text-sm-right"},[e._v(" (*必填) ")])]),t(B.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫標題",rules:[e.rules["requiredRules"]],placeholder:"填寫範例: 菜單標題"},model:{value:e.create_data["title"],callback:function(t){e.$set(e.create_data,"title",t)},expression:"create_data['title']"}})],1),t(a.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 菜單路徑: "),t("strong",{staticClass:"red--text font-weight-bold text-caption text-left text-sm-right"},[e._v(" (*必填) ")])]),t(B.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫路徑",rules:[e.rules["requiredRules"]],placeholder:"填寫範例: /path"},model:{value:e.create_data["path"],callback:function(t){e.$set(e.create_data,"path",t)},expression:"create_data['path']"}})],1),t(a.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 組件名稱: "),t("strong",{staticClass:"red--text font-weight-bold text-caption text-left text-sm-right"},[e._v(" (*必填) ")])]),t(B.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫組件名稱",rules:[e.rules["requiredRules"]],placeholder:"填寫範例: PathName"},model:{value:e.create_data["name"],callback:function(t){e.$set(e.create_data,"name",t)},expression:"create_data['name']"}})],1),t(a.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 組件路徑: "),t("strong",{staticClass:"red--text font-weight-bold text-caption text-left text-sm-right"},[e._v(" (*必填) ")])]),t(B.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫組件路徑",rules:[e.rules["requiredRules"]],placeholder:"填寫範例: Path/PathName"},model:{value:e.create_data["component"],callback:function(t){e.$set(e.create_data,"component",t)},expression:"create_data['component']"}})],1),t(a.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 菜單圖案: "),t("strong",{staticClass:"blue--text font-weight-bold text-caption text-left text-sm-right"},[e._v(" (非必填) ")])]),t(B.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫菜單圖案路徑",placeholder:"填寫範例: mdi-home"},scopedSlots:e._u([{key:"append",fn:function(){return[t(f.A,{attrs:{color:"primary"}},[e._v(e._s(e.create_data["icon"]))])]},proxy:!0}]),model:{value:e.create_data["icon"],callback:function(t){e.$set(e.create_data,"icon",t)},expression:"create_data['icon']"}})],1),t(a.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 跳轉路徑: "),t("strong",{staticClass:"blue--text font-weight-bold text-caption text-left text-sm-right"},[e._v(" (非必填) ")])]),t(B.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫跳轉路徑路徑",placeholder:"填寫範例: /redirect-path"},model:{value:e.create_data["redirect"],callback:function(t){e.$set(e.create_data,"redirect",t)},expression:"create_data['redirect']"}})],1),t(a.A,{attrs:{cols:"12"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 父親菜單: ")]),t("SelectParentMenu",{on:{select:e.select_parent_menu},model:{value:e.create_data["parent"],callback:function(t){e.$set(e.create_data,"parent",t)},expression:"create_data['parent']"}})],1),t(a.A,{staticClass:"d-flex flex-wrap align-center gap-4",attrs:{cols:"4"}},[t("span",{staticClass:"font-weight-bold text-subtitle-1"},[e._v(" 顯示順序： ")]),t(B.A,{staticStyle:{"max-width":"150px"},attrs:{type:"number","input-mode":"tel","background-color":"white",outlined:"",label:"請填寫跳轉路徑路徑","hide-details":"",rules:[e.rules["requiredRules"]]},model:{value:e.create_data["priority"],callback:function(t){e.$set(e.create_data,"priority",e._n(t))},expression:"create_data['priority']"}})],1),t(a.A,{staticClass:"d-flex flex-wrap align-center gap-4",attrs:{cols:"3"}},[t("div",{staticClass:"font-weight-bold text-subtitle-1"},[e._v(" 菜單： ")]),t(L.A,{staticClass:"w-max-content",attrs:{inset:"",color:"pink"},model:{value:e.create_data["is_menu"],callback:function(t){e.$set(e.create_data,"is_menu",t)},expression:"create_data['is_menu']"}})],1),t(a.A,{staticClass:"d-flex align-center justify-center gap-4",attrs:{cols:"12"}},[t(p.A,{staticClass:"font-weight-bold white--text",attrs:{color:"pink darken-2",type:"submit",width:"150",height:"50"}},[e._v(" 創建 ")])],1)],1)],1)},pe=[],me={name:"CreateMenuForm",components:{SelectParentMenu:le},data(){return{create_data:{is_menu:!0,priority:1},createFormValid:!1,rules:d.aO}},computed:{},async mounted(){},methods:{select_parent_menu(e){this.$set(this.create_data,"parent",e)},async create(){if(this.$refs.form.validate(),this.createFormValid)try{const e=new FormData;for(const[i,a]of Object.entries(this.create_data))null!==a&&void 0!==a&&e.append(i,a);const t=await r.$1.create(e);201===t.status?(this.$swal.fire("創建成功","","success"),this.$emit("refresh"),this.$store.dispatch("menu/getMenus")):this.$swal.fire("創建失敗","","error")}catch(e){console.log(e),this.$swal.fire({title:"創建發生錯誤",text:e,icon:"error"})}else this.$swal.fire("請確實填寫內容","","error")}}},fe=me,ve=(0,k.A)(fe,ue,pe,!1,null,"7441d870",null),_e=ve.exports,ge=function(){var e=this,t=e._self._c;return t(he.A,{ref:"form",on:{submit:function(t){return t.preventDefault(),e.update.apply(null,arguments)}},model:{value:e.updateFormValid,callback:function(t){e.updateFormValid=t},expression:"updateFormValid"}},[t(n.A,{staticClass:"justify-start"},[t(a.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 菜單標題: "),t("strong",{staticClass:"red--text font-weight-bold text-caption text-left text-sm-right"},[e._v(" (*必填) ")])]),t(B.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫標題",rules:[e.rules["requiredRules"]],placeholder:"填寫範例: 菜單標題"},model:{value:e.update_data["title"],callback:function(t){e.$set(e.update_data,"title",t)},expression:"update_data['title']"}})],1),t(a.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 菜單路徑: "),t("strong",{staticClass:"red--text font-weight-bold text-caption text-left text-sm-right"},[e._v(" (*必填) ")])]),t(B.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫路徑",rules:[e.rules["requiredRules"]],placeholder:"填寫範例: /path"},model:{value:e.update_data["path"],callback:function(t){e.$set(e.update_data,"path",t)},expression:"update_data['path']"}})],1),t(a.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 組件名稱: "),t("strong",{staticClass:"red--text font-weight-bold text-caption text-left text-sm-right"},[e._v(" (*必填) ")])]),t(B.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫組件名稱",rules:[e.rules["requiredRules"]],placeholder:"填寫範例: PathName"},model:{value:e.update_data["name"],callback:function(t){e.$set(e.update_data,"name",t)},expression:"update_data['name']"}})],1),t(a.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 組件路徑: "),t("strong",{staticClass:"red--text font-weight-bold text-caption text-left text-sm-right"},[e._v(" (*必填) ")])]),t(B.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫組件路徑",rules:[e.rules["requiredRules"]],placeholder:"填寫範例: Path/PathName"},model:{value:e.update_data["component"],callback:function(t){e.$set(e.update_data,"component",t)},expression:"update_data['component']"}})],1),t(a.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 菜單圖案: "),t("strong",{staticClass:"blue--text font-weight-bold text-caption text-left text-sm-right"},[e._v(" (非必填) ")])]),t(B.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫菜單圖案路徑",placeholder:"填寫範例: mdi-home"},scopedSlots:e._u([{key:"append",fn:function(){return[t(f.A,{attrs:{color:"primary"}},[e._v(e._s(e.update_data["icon"]))])]},proxy:!0}]),model:{value:e.update_data["icon"],callback:function(t){e.$set(e.update_data,"icon",t)},expression:"update_data['icon']"}})],1),t(a.A,{staticClass:"d-flex flex-column gap-2",attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 跳轉路徑: "),t("strong",{staticClass:"blue--text font-weight-bold text-caption text-left text-sm-right"},[e._v(" (非必填) ")])]),t(B.A,{attrs:{"background-color":"white",outlined:"",label:"請填寫跳轉路徑路徑",placeholder:"填寫範例: /redirect-path"},model:{value:e.update_data["redirect"],callback:function(t){e.$set(e.update_data,"redirect",t)},expression:"update_data['redirect']"}})],1),t(a.A,{attrs:{cols:"12"}},[t("div",{staticClass:"label-container font-weight-bold text-subtitle-1"},[e._v(" 父親菜單: ")]),t("SelectParentMenu",{on:{select:e.select_parent_menu},model:{value:e.update_data["parent"],callback:function(t){e.$set(e.update_data,"parent",t)},expression:"update_data['parent']"}})],1),t(a.A,{staticClass:"d-flex flex-wrap align-center gap-4",attrs:{cols:"4"}},[t("span",{staticClass:"font-weight-bold text-subtitle-1"},[e._v(" 顯示順序： ")]),t(B.A,{staticStyle:{"max-width":"150px"},attrs:{type:"number","input-mode":"tel","background-color":"white",outlined:"",label:"請填寫跳轉路徑路徑","hide-details":"",rules:[e.rules["requiredRules"]]},model:{value:e.update_data["priority"],callback:function(t){e.$set(e.update_data,"priority",e._n(t))},expression:"update_data['priority']"}})],1),t(a.A,{staticClass:"d-flex flex-wrap align-center gap-4",attrs:{cols:"3"}},[t("div",{staticClass:"font-weight-bold text-subtitle-1"},[e._v(" 菜單： ")]),t(L.A,{staticClass:"w-max-content",attrs:{inset:"",color:"primary"},model:{value:e.update_data["is_menu"],callback:function(t){e.$set(e.update_data,"is_menu",t)},expression:"update_data['is_menu']"}})],1),t(a.A,{staticClass:"d-flex flex-wrap align-center gap-4",attrs:{cols:"3"}},[t("div",{staticClass:"font-weight-bold text-subtitle-1"},[e._v(" 停用狀態： ")]),t(L.A,{staticClass:"w-max-content",attrs:{inset:"",color:"primary"},model:{value:e.update_data["is_disabled"],callback:function(t){e.$set(e.update_data,"is_disabled",t)},expression:"update_data['is_disabled']"}})],1),t(a.A,{staticClass:"d-flex align-center justify-center gap-4",attrs:{cols:"12"}},[t(p.A,{staticClass:"font-weight-bold white--text",attrs:{color:"primary darken-2",type:"submit",width:"150",height:"50"}},[e._v(" 儲存 ")])],1)],1)],1)},be=[],xe={name:"UpdateMenuForm",components:{SelectParentMenu:le},props:["id"],data(){return{loading:!0,update_data:{},updateFormValid:!1,rules:d.aO}},watch:{id:{immediate:!0,handler(e){e&&this.fetchData()}}},methods:{async fetchData(){try{const e=await r.$1.get_by_id(this.id);if(200===e.status){const t=e.data;this.update_data={title:t["title"],path:t["path"],name:t["name"],component:t["component"],is_menu:t["is_menu"],is_disabled:t["is_disabled"],redirect:t["redirect"],priority:t["priority"],icon:t["icon"],parent:t["parent"]}}}catch(e){console.error(e)}finally{this.loading=!1}},select_parent_menu(e){this.$set(this.update_data,"parent",e)},async update(){if(this.$refs.form.validate(),this.updateFormValid)try{const e=new FormData;for(const[i,a]of Object.entries(this.update_data))null!==a&&void 0!==a&&e.append(i,a);const t=await r.$1.update(this.id,e);200===t.status?(this.$swal.fire("儲存成功","","success"),this.$emit("refresh"),this.$store.dispatch("menu/getMenus")):this.$swal.fire("儲存失敗","","error")}catch(e){console.log(e),this.$swal.fire({title:"儲存發生錯誤",text:e,icon:"error"})}else this.$swal.fire("請確實填寫內容","","error")}}},ye=xe,Ce=(0,k.A)(ye,ge,be,!1,null,"7d376022",null),we=Ce.exports,Ae={components:{CustomDialog:c.A,CustomDataTable:h.A,MenuTableItem:$,MenuRecursiveTable:M,ReadMenuForm:ce,CreateMenuForm:_e,UpdateMenuForm:we},data(){return{dialog:!1,loading:!0,items:[],itemsLength:0,disabled_select:["title"],options:{page:1,itemsPerPage:30,sortBy:["priority"],sortDesc:[!1]},headers:[{text:"",value:"data-table-expand"},{text:"菜單標題",value:"title",sortable:!0},{text:"操作",value:"actions",sortable:!0},{text:"菜單圖案",value:"icon",sortable:!0},{text:"顯示順序",value:"priority",sortable:!0},{text:"菜單",value:"is_menu",sortable:!0},{text:"狀態",value:"is_disabled",sortable:!0},{text:"路徑",value:"path",sortable:!0},{text:"組件名稱",value:"name",sortable:!0},{text:"組件路徑",value:"component",sortable:!0},{text:"跳轉路徑",value:"redirect",sortable:!0}],create_dialog:!1,read_dialog:!1,update_dialog:!1,read_id:null,update_id:null,depth:1}},computed:{actions_buttons(){return[{title:"瀏覽",icon:"mdi-eye",icon_color:"grey darken-1",tooltip_color:"grey lighten-2",btn_color:"blue-grey lighten-4",onClick:this.read},{title:"修改",icon:"mdi-pencil",icon_color:"primary darken-1",tooltip_color:"blue lighten-4",btn_color:"primary lighten-4",onClick:this.update},{title:"刪除",icon:"mdi-delete",icon_color:"error darken-1",tooltip_color:"error lighten-4",btn_color:"error lighten-4",onClick:this.delete}]}},async mounted(){await this.fetchData()},methods:{async fetchData(){this.loading=!0;try{const e=(0,d.UH)(this.options);e.append("is_children",!1),e.append("include_children",!0);const t=await r.$1.get_all(e);if(200===t.status){const{data:e,count:i}=t.data;this.items=e,this.itemsLength=i}}catch(e){console.error(e)}finally{this.loading=!1}},emitUpdateOptions(e){this.options=e,this.fetchData()},emitCreate(){this.create_dialog=!0},read(e){this.read_dialog=!0,this.read_id=e},update(e){this.update_dialog=!0,this.update_id=e},async delete(e){const t=await(0,d.d4)();if(t.isConfirmed){const t=await(0,d.JV)();if(t)try{const t=await r.$1.delete(e);204===t.status&&(this.$swal.fire("刪除成功","","success"),await this.fetchData(),await this.$store.dispatch("menu/getMenus"))}catch(i){this.$swal.fire("刪除失敗",i,"error")}}},async refreshData(){await this.fetchData(),this.create_dialog=!1,this.update_dialog=!1}}},ke=Ae,Se=(0,k.A)(ke,l,o,!1,null,"3ccc4623",null),$e=Se.exports},3e3:function(e,t,i){i.d(t,{A:function(){return d}});i(5601);var a=i(8944),s=i(6993),n=i(2699),l=i(5961),o=i(1554),r=i(4152),d=a.A.extend({name:"v-switch",directives:{Touch:n.A},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes(){return{...s.A.options.computed.classes.call(this),"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset}},attrs(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot(){return[this.genSwitch(),this.genLabel()]},genSwitch(){const{title:e,...t}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",{...this.attrs,...t}),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",{staticClass:"v-input--switch__track",...this.switchData}),this.$createElement("div",{staticClass:"v-input--switch__thumb",...this.switchData},[this.genProgress()])])},genProgress(){return this.$createElement(l.Z,{},[!1===this.loading?null:(0,r.$c)(this,"progress")||this.$createElement(o.A,{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft(){this.isActive&&this.onChange()},onSwipeRight(){this.isActive||this.onChange()},onKeydown(e){(e.keyCode===r.uP.left&&this.isActive||e.keyCode===r.uP.right&&!this.isActive)&&this.onChange()}}})},7080:function(e,t,i){var a=i(4402).has;e.exports=function(e){return a(e),e}},6706:function(e,t,i){var a=i(9504),s=i(9306);e.exports=function(e,t,i){try{return a(s(Object.getOwnPropertyDescriptor(e,t)[i]))}catch(n){}}},1767:function(e){e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},3789:function(e,t,i){var a=i(9306),s=i(8551),n=i(9565),l=i(1291),o=i(1767),r="Invalid size",d=RangeError,c=TypeError,h=Math.max,u=function(e,t){this.set=e,this.size=h(t,0),this.has=a(e.has),this.keys=a(e.keys)};u.prototype={getIterator:function(){return o(s(n(this.keys,this.set)))},includes:function(e){return n(this.has,this.set,e)}},e.exports=function(e){s(e);var t=+e.size;if(t!==t)throw new c(r);var i=l(t);if(i<0)throw new d(r);return new u(e,i)}},507:function(e,t,i){var a=i(9565);e.exports=function(e,t,i){var s,n,l=i?e:e.iterator,o=e.next;while(!(s=a(o,l)).done)if(n=t(s.value),void 0!==n)return n}},9539:function(e,t,i){var a=i(9565),s=i(8551),n=i(5966);e.exports=function(e,t,i){var l,o;s(e);try{if(l=n(e,"return"),!l){if("throw"===t)throw i;return i}l=a(l,e)}catch(r){o=!0,l=r}if("throw"===t)throw i;if(o)throw l;return s(l),i}},9286:function(e,t,i){var a=i(4402),s=i(8469),n=a.Set,l=a.add;e.exports=function(e){var t=new n;return s(e,(function(e){l(t,e)})),t}},3440:function(e,t,i){var a=i(7080),s=i(4402),n=i(9286),l=i(5170),o=i(3789),r=i(8469),d=i(507),c=s.has,h=s.remove;e.exports=function(e){var t=a(this),i=o(e),s=n(t);return l(t)<=i.size?r(t,(function(e){i.includes(e)&&h(s,e)})):d(i.getIterator(),(function(e){c(t,e)&&h(s,e)})),s}},4402:function(e,t,i){var a=i(9504),s=Set.prototype;e.exports={Set:Set,add:a(s.add),has:a(s.has),remove:a(s["delete"]),proto:s}},8750:function(e,t,i){var a=i(7080),s=i(4402),n=i(5170),l=i(3789),o=i(8469),r=i(507),d=s.Set,c=s.add,h=s.has;e.exports=function(e){var t=a(this),i=l(e),s=new d;return n(t)>i.size?r(i.getIterator(),(function(e){h(t,e)&&c(s,e)})):o(t,(function(e){i.includes(e)&&c(s,e)})),s}},4449:function(e,t,i){var a=i(7080),s=i(4402).has,n=i(5170),l=i(3789),o=i(8469),r=i(507),d=i(9539);e.exports=function(e){var t=a(this),i=l(e);if(n(t)<=i.size)return!1!==o(t,(function(e){if(i.includes(e))return!1}),!0);var c=i.getIterator();return!1!==r(c,(function(e){if(s(t,e))return d(c,"normal",!1)}))}},3838:function(e,t,i){var a=i(7080),s=i(5170),n=i(8469),l=i(3789);e.exports=function(e){var t=a(this),i=l(e);return!(s(t)>i.size)&&!1!==n(t,(function(e){if(!i.includes(e))return!1}),!0)}},8527:function(e,t,i){var a=i(7080),s=i(4402).has,n=i(5170),l=i(3789),o=i(507),r=i(9539);e.exports=function(e){var t=a(this),i=l(e);if(n(t)<i.size)return!1;var d=i.getIterator();return!1!==o(d,(function(e){if(!s(t,e))return r(d,"normal",!1)}))}},8469:function(e,t,i){var a=i(9504),s=i(507),n=i(4402),l=n.Set,o=n.proto,r=a(o.forEach),d=a(o.keys),c=d(new l).next;e.exports=function(e,t,i){return i?s({iterator:d(e),next:c},t):r(e,t)}},4916:function(e,t,i){var a=i(7751),s=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=a("Set");try{(new t)[e](s(0));try{return(new t)[e](s(-1)),!1}catch(i){return!0}}catch(n){return!1}}},5170:function(e,t,i){var a=i(6706),s=i(4402);e.exports=a(s.proto,"size","get")||function(e){return e.size}},3650:function(e,t,i){var a=i(7080),s=i(4402),n=i(9286),l=i(3789),o=i(507),r=s.add,d=s.has,c=s.remove;e.exports=function(e){var t=a(this),i=l(e).getIterator(),s=n(t);return o(i,(function(e){d(t,e)?c(s,e):r(s,e)})),s}},4204:function(e,t,i){var a=i(7080),s=i(4402).add,n=i(9286),l=i(3789),o=i(507);e.exports=function(e){var t=a(this),i=l(e).getIterator(),r=n(t);return o(i,(function(e){s(r,e)})),r}},7642:function(e,t,i){var a=i(6518),s=i(3440),n=i(4916);a({target:"Set",proto:!0,real:!0,forced:!n("difference")},{difference:s})},8004:function(e,t,i){var a=i(6518),s=i(9039),n=i(8750),l=i(4916),o=!l("intersection")||s((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));a({target:"Set",proto:!0,real:!0,forced:o},{intersection:n})},3853:function(e,t,i){var a=i(6518),s=i(4449),n=i(4916);a({target:"Set",proto:!0,real:!0,forced:!n("isDisjointFrom")},{isDisjointFrom:s})},5876:function(e,t,i){var a=i(6518),s=i(3838),n=i(4916);a({target:"Set",proto:!0,real:!0,forced:!n("isSubsetOf")},{isSubsetOf:s})},2475:function(e,t,i){var a=i(6518),s=i(8527),n=i(4916);a({target:"Set",proto:!0,real:!0,forced:!n("isSupersetOf")},{isSupersetOf:s})},5024:function(e,t,i){var a=i(6518),s=i(3650),n=i(4916);a({target:"Set",proto:!0,real:!0,forced:!n("symmetricDifference")},{symmetricDifference:s})},1698:function(e,t,i){var a=i(6518),s=i(4204),n=i(4916);a({target:"Set",proto:!0,real:!0,forced:!n("union")},{union:s})},3375:function(e,t,i){i(7642)},9225:function(e,t,i){i(8004)},3972:function(e,t,i){i(3853)},9209:function(e,t,i){i(5876)},5714:function(e,t,i){i(2475)},7561:function(e,t,i){i(5024)},6197:function(e,t,i){i(1698)}}]);
//# sourceMappingURL=757.f394beab.js.map